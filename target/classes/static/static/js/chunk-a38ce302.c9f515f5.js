(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a38ce302"],{"04c2":function(e,t,a){"use strict";a("a37a")},"05d9":function(e,t,a){},"0d69":function(e,t,a){},"0eea":function(e,t,a){},1:function(e,t){},"1b64":function(e,t,a){},2:function(e,t){},"2b7a":function(e,t,a){},"2caa":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-card",[a("el-steps",{attrs:{active:e.active,"align-center":""}},[a("el-step",{attrs:{description:"备案表基本信息"},nativeOn:{click:function(t){return e.handleStep(0)}}}),a("el-step",{attrs:{description:"负责人情况"},nativeOn:{click:function(t){return e.handleStep(1)}}}),a("el-step",{attrs:{description:"成员概况"},nativeOn:{click:function(t){return e.handleStep(2)}}}),a("el-step",{attrs:{description:"规章制度建设和队伍建设"},nativeOn:{click:function(t){return e.handleStep(3)}}}),a("el-step",{attrs:{description:"教学组织和课程教材概述"},nativeOn:{click:function(t){return e.handleStep(4)}}}),a("el-step",{attrs:{description:"教学研究和专业建设"},nativeOn:{click:function(t){return e.handleStep(5)}}}),a("el-step",{attrs:{description:"实践教学和条件保障"},nativeOn:{click:function(t){return e.handleStep(6)}}}),a("el-step",{attrs:{description:"人才培养能力"},nativeOn:{click:function(t){return e.handleStep(7)}}}),a("el-step",{attrs:{description:"今后建设计划"},nativeOn:{click:function(t){return e.handleStep(8)}}})],1)],1),a("el-card",{directives:[{name:"show",rawName:"v-show",value:0==e.active,expression:"active == 0"}]},[a("el-form",{attrs:{model:e.form.info}},[a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("备案表基本信息")])])]),a("div",{staticClass:"div-style"},[a("el-row",{staticClass:"row-style",attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{staticClass:"el-form-item_label",attrs:{label:"教学组织名称"}},[a("el-input",{model:{value:e.form.info.organization,callback:function(t){e.$set(e.form.info,"organization",t)},expression:"form.info.organization"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"所属学院"}},[a("el-input",{attrs:{disabled:""},model:{value:e.form.info.college,callback:function(t){e.$set(e.form.info,"college",t)},expression:"form.info.college"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{model:{value:e.form.info.principal,callback:function(t){e.$set(e.form.info,"principal",t)},expression:"form.info.principal"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"职称"}},[a("el-select",{staticStyle:{width:"18rem"},attrs:{placeholder:"请选择"},model:{value:e.form.info.professionalTitle,callback:function(t){e.$set(e.form.info,"professionalTitle",t)},expression:"form.info.professionalTitle"}},[a("el-option",{attrs:{label:"助教",value:"助教"}}),a("el-option",{attrs:{label:"讲师",value:"讲师"}}),a("el-option",{attrs:{label:"副教授",value:"副教授"}}),a("el-option",{attrs:{label:"教授",value:"教授"}})],1)],1)],1)],1)],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.nextPage}},[e._v("下一页")])],1)],1)],1),a("el-card",{directives:[{name:"show",rawName:"v-show",value:1==e.active,expression:"active == 1"}]},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-form",[a("Principal",{ref:"principal",attrs:{principalID:this.form.principalID},on:{getPrincipalID:function(t){return e.getPrincipalID(t)}},model:{value:this.form.principalID,callback:function(t){e.$set(this.form,"principalID",t)},expression:"this.form.principalID"}}),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:e.prePage}},[e._v("上一页")]),a("el-button",{attrs:{type:"primary"},on:{click:e.nextPage}},[e._v("下一页")])],1)],1)],1)],1),a("el-card",{directives:[{name:"show",rawName:"v-show",value:2==e.active,expression:"active == 2"}]},[a("Members",{ref:"members",attrs:{membersID:this.form.membersID},on:{getMembersID:function(t){return e.getMembersID(t)}},model:{value:this.form.membersID,callback:function(t){e.$set(this.form,"membersID",t)},expression:"this.form.membersID"}}),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:e.prePage}},[e._v("上一页")]),a("el-button",{attrs:{type:"primary"},on:{click:e.nextPage}},[e._v("下一页")])],1)],1),a("el-card",{directives:[{name:"show",rawName:"v-show",value:3==e.active,expression:"active == 3"}]},[a("Rules",{ref:"rules",attrs:{ruleAndRegulationID:this.form.ruleAndRegulationID},on:{getRulesID:function(t){return e.getRulesID(t)}},model:{value:this.form.ruleAndRegulationID,callback:function(t){e.$set(this.form,"ruleAndRegulationID",t)},expression:"this.form.ruleAndRegulationID"}}),a("Team",{ref:"teambuilding",attrs:{teamBuildingID:this.form.teamBuildingID},on:{getTeamBuildingID:function(t){return e.getTeamBuildingID(t)}},model:{value:this.form.teamBuildingID,callback:function(t){e.$set(this.form,"teamBuildingID",t)},expression:"this.form.teamBuildingID"}}),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:e.prePage}},[e._v("上一页")]),a("el-button",{attrs:{type:"primary"},on:{click:e.nextPage}},[e._v("下一页")])],1)],1),a("el-card",{directives:[{name:"show",rawName:"v-show",value:4==e.active,expression:"active == 4"}]},[a("Organization",{ref:"organization",attrs:{teachingOrganizationID:this.form.teachingOrganizationID},on:{getOrganizationID:function(t){return e.getOrganizationID(t)}},model:{value:this.form.teachingOrganizationID,callback:function(t){e.$set(this.form,"teachingOrganizationID",t)},expression:"this.form.teachingOrganizationID"}}),a("CourseMaterial",{ref:"coursematerial",attrs:{courseMaterialID:this.form.courseMaterialID},on:{getCourseMaterialID:function(t){return e.getCourseMaterialID(t)}},model:{value:this.form.courseMaterialID,callback:function(t){e.$set(this.form,"courseMaterialID",t)},expression:"this.form.courseMaterialID"}}),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:e.prePage}},[e._v("上一页")]),a("el-button",{attrs:{type:"primary"},on:{click:e.nextPage}},[e._v("下一页")])],1)],1),a("el-card",{directives:[{name:"show",rawName:"v-show",value:5==e.active,expression:"active == 5"}]},[a("TeachingResearch",{ref:"teachingresearch",attrs:{teachingResearchID:this.form.teachingResearchID},on:{getTeachingResearchID:function(t){return e.getTeachingResearchID(t)}},model:{value:this.form.teachingResearchID,callback:function(t){e.$set(this.form,"teachingResearchID",t)},expression:"this.form.teachingResearchID"}}),a("SpecialtyConstruction",{ref:"specialtyconstruction",attrs:{specialtyConstructionID:this.form.specialtyConstructionID},on:{getSpecialtyConstructionID:function(t){return e.getSpecialtyConstructionID(t)}},model:{value:this.form.specialtyConstructionID,callback:function(t){e.$set(this.form,"specialtyConstructionID",t)},expression:"this.form.specialtyConstructionID"}}),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:e.prePage}},[e._v("上一页")]),a("el-button",{attrs:{type:"primary"},on:{click:e.nextPage}},[e._v("下一页")])],1)],1),a("el-card",{directives:[{name:"show",rawName:"v-show",value:6==e.active,expression:"active == 6"}]},[a("PracticalTeaching",{ref:"practicalteaching",attrs:{practicalTeachingID:this.form.practicalTeachingID},on:{getPracticalTeachingID:function(t){return e.getPracticalTeachingID(t)}},model:{value:this.form.practicalTeachingID,callback:function(t){e.$set(this.form,"practicalTeachingID",t)},expression:"this.form.practicalTeachingID"}}),a("ConditionGuarantee",{ref:"conditionguarantee",attrs:{conditionGuaranteeID:this.form.conditionGuaranteeID},on:{getConditionGuaranteeID:function(t){return e.getConditionGuaranteeID(t)}},model:{value:this.form.conditionGuaranteeID,callback:function(t){e.$set(this.form,"conditionGuaranteeID",t)},expression:"this.form.conditionGuaranteeID"}}),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:e.prePage}},[e._v("上一页")]),a("el-button",{attrs:{type:"primary"},on:{click:e.nextPage}},[e._v("下一页")])],1)],1),a("el-card",{directives:[{name:"show",rawName:"v-show",value:7==e.active,expression:"active == 7"}]},[a("TalentCultivationAbility",{ref:"talentcultivationability",attrs:{talentCultivationAbilityID:this.form.talentCultivationAbilityID},on:{getTalentCultivationAbilityID:function(t){return e.getTalentCultivationAbilityID(t)}},model:{value:this.form.talentCultivationAbilityID,callback:function(t){e.$set(this.form,"talentCultivationAbilityID",t)},expression:"\n          this.form.talentCultivationAbilityID\n        "}}),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:e.prePage}},[e._v("上一页")]),a("el-button",{attrs:{type:"primary"},on:{click:e.nextPage}},[e._v("下一页")])],1)],1),a("el-card",{directives:[{name:"show",rawName:"v-show",value:8==e.active,expression:"active == 8"}]},[a("FutureConstructionPlan",{ref:"futureconstructionplan",attrs:{futureConstructionPlanID:this.form.futureConstructionPlanID},on:{getFutureConstructionPlanID:function(t){return e.getFutureConstructionPlanID(t)}},model:{value:this.form.futureConstructionPlanID,callback:function(t){e.$set(this.form,"futureConstructionPlanID",t)},expression:"this.form.futureConstructionPlanID"}}),a("opinionFeedBack",{style:{display:e.updateHidden},attrs:{opinionFeedbackID:this.form.opinionFeedbackID}}),a("el-row",{staticStyle:{"margin-top":"10px"},attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:e.prePage}},[e._v("上一页")]),a("el-button",{style:{display:e.buttenHidden},attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")]),a("el-button",{style:{display:e.updateHidden},attrs:{type:"primary"},on:{click:e.handleUpdate}},[e._v("确认修改")])],1)],1),a("el-card",{directives:[{name:"show",rawName:"v-show",value:9==e.active,expression:"active == 9"}]},[a("el-row",{staticClass:"action-content",attrs:{type:"flex",justify:"center"}},[a("svg-icon",{staticStyle:{width:"7rem",height:"7rem"},attrs:{iconClass:"success"}})],1),a("el-row",{staticClass:"action-content",attrs:{type:"flex",justify:"center"}},[a("div",{staticClass:"action-text"},[e._v("提交成功")])]),a("el-row",{staticClass:"action-content",attrs:{type:"flex",justify:"center"}},[a("div",{staticClass:"action-subtext"},[e._v("请等待管理员进行审核")])])],1)],1)},o=[],r=(a("b64b"),a("96cf"),a("1da1")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}}),a("div",{staticClass:"drop",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[e._v(" 将文件拖拽至此或 "),a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:e.loading,size:"mini",type:"primary"},on:{click:e.handleUpload}},[e._v(" 浏览文件 ")])],1)])},s=[],c=(a("c975"),a("b0c0"),a("d3b7"),a("1146")),u=a.n(c),m={props:{beforeUpload:Function,onSuccess:Function,header:Array,attr:Array},data:function(){return{loading:!1,excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,a=e.res;this.excelData.header=t,this.excelData.results=a,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var a=t[0];if(!this.isExcel(a))return this.$message.error("只支持导入 .xlsx, .xls, .csv 为后缀的文件！"),!1;this.upload(a),e.stopPropagation(),e.preventDefault()}else this.$message.error("一次仅支持上传一个文件！")}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files,a=t[0];a&&this.upload(a)},upload:function(e){if(this.$refs["excel-upload-input"].value=null,this.beforeUpload){var t=this.beforeUpload(e);t&&this.readerData(e)}else this.readerData(e)},readerData:function(e){var t=this;return this.loading=!0,new Promise((function(a,n){var o=new FileReader;o.onload=function(e){for(var n=e.target.result,o=u.a.read(n,{type:"array"}),r=o.SheetNames[0],l=o.Sheets[r],s=t.getHeaderRow(l),c=u.a.utils.sheet_to_json(l),m=[],f=0;f<s.length;f++){var p=t.header[f],d=t.attr[f],h=c[i][d]+"";if(-1!==h.indexOf("年")&&-1!==h.indexOf("月")){var b=h.indexOf("年"),v=h.substring(0,4),g=h.indexOf("月"),y=h.substring(b+1,g),D=h.substring(g+1),x=v+"-"+y+"-"+D;item[p]=x}else item[p]=c[i][d]}t.generateData({header:s,res:m}),t.loading=!1,a()},o.readAsArrayBuffer(e)}))},getHeaderRow:function(e){var t=this.header;return t},isExcel:function(e){return/\.(xlsx|xls|csv)$/.test(e.name)}}},f=m,p=(a("04c2"),a("2877")),d=Object(p["a"])(f,l,s,!1,null,"61f10751",null),h=d.exports,b=a("c00a"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{attrs:{model:e.form}},[a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("负责人情况")])])]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出生年月"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.form.birthdate,callback:function(t){e.$set(e.form,"birthdate",t)},expression:"form.birthdate"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.form.gender,callback:function(t){e.$set(e.form,"gender",t)},expression:"form.gender"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"政治面貌"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.politicalAffiliation,callback:function(t){e.$set(e.form,"politicalAffiliation",t)},expression:"form.politicalAffiliation"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"教学组织名称"}},[a("el-input",{model:{value:e.form.nameOfTeachingOrganization,callback:function(t){e.$set(e.form,"nameOfTeachingOrganization",t)},expression:"form.nameOfTeachingOrganization"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"隶属单位"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.form.subordinateUnit,callback:function(t){e.$set(e.form,"subordinateUnit",t)},expression:"form.subordinateUnit"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"类别"}},[a("el-select",{attrs:{placeholder:"类别"},model:{value:e.form.classification,callback:function(t){e.$set(e.form,"classification",t)},expression:"form.classification"}},[a("el-option",{attrs:{label:"国家级",value:"国家级"}}),a("el-option",{attrs:{label:"省级",value:"省级"}})],1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"获批等级"}},[a("el-select",{attrs:{placeholder:"获批等级"},model:{value:e.form.approvalLevel.provincialQualificationOfTime,callback:function(t){e.$set(e.form.approvalLevel,"provincialQualificationOfTime",t)},expression:"form.approvalLevel.provincialQualificationOfTime"}},[a("el-option",{attrs:{label:"省级优秀",value:"省级优秀"}}),a("el-option",{attrs:{label:"省级合格",value:"省级合格"}}),a("el-option",{attrs:{label:"不合格",value:"不合格"}})],1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"获批时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.form.approvalLevel.provincialExcellenceOfTime,callback:function(t){e.$set(e.form.approvalLevel,"provincialExcellenceOfTime",t)},expression:"form.approvalLevel.provincialExcellenceOfTime"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"最终学历（学位）"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.degree,callback:function(t){e.$set(e.form,"degree",t)},expression:"form.degree"}},e._l(e.optionsOfDegree,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"授予单位"}},[a("el-input",{model:{value:e.form.authorizationDepartment,callback:function(t){e.$set(e.form,"authorizationDepartment",t)},expression:"form.authorizationDepartment"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"授予时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.form.dateOfGrant,callback:function(t){e.$set(e.form,"dateOfGrant",t)},expression:"form.dateOfGrant"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"高校教龄"}},[a("el-input",{model:{value:e.form.universityTeachingAge,callback:function(t){e.$set(e.form,"universityTeachingAge",t)},expression:"form.universityTeachingAge"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"职称"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"请选择"},model:{value:e.form.professionalTitle,callback:function(t){e.$set(e.form,"professionalTitle",t)},expression:"form.professionalTitle"}},[a("el-option",{attrs:{label:"助教",value:"助教"}}),a("el-option",{attrs:{label:"讲师",value:"讲师"}}),a("el-option",{attrs:{label:"副教授",value:"副教授"}}),a("el-option",{attrs:{label:"教授",value:"教授"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"行政职务"}},[a("el-input",{model:{value:e.form.administrativeDuties,callback:function(t){e.$set(e.form,"administrativeDuties",t)},expression:"form.administrativeDuties"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"任基层教学组织负责人时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.form.dateOfHeadOfBasicTeachingOrganization,callback:function(t){e.$set(e.form,"dateOfHeadOfBasicTeachingOrganization",t)},expression:"form.dateOfHeadOfBasicTeachingOrganization"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"岗位津贴"}},[a("el-input",{model:{value:e.form.postAllowance,callback:function(t){e.$set(e.form,"postAllowance",t)},expression:"form.postAllowance"}})],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"近2学年教授课程及学时"}},[a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleClickAdd(e.PrincipalInfo.dialogVisible)}}},[e._v("添加")])],1),a("el-table",{attrs:{data:e.PrincipalInfo.tables[0],"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"course",label:"教授课程"}}),a("el-table-column",{attrs:{prop:"period",label:"学时"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{float:"left"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(a){return e.handleClickEdit(e.PrincipalInfo,t.row,t.$index)}}})],1),a("el-row",{staticStyle:{float:"right"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"mini"},on:{click:function(a){return e.handleClickDelete(e.PrincipalInfo,t.$index)}}})],1)]}}])})],1),a("el-dialog",{attrs:{title:"近两年教授课程及学时",visible:e.PrincipalInfo.dialogVisible[0]},on:{"update:visible":function(t){return e.$set(e.PrincipalInfo.dialogVisible,0,t)}}},[a("el-form",{attrs:{model:e.tempData}},[a("el-form-item",{attrs:{label:"教授课程"}},[a("el-input",{model:{value:e.tempData.course,callback:function(t){e.$set(e.tempData,"course",t)},expression:"tempData.course"}})],1),a("el-form-item",{attrs:{label:"学时"}},[a("el-input",{model:{value:e.tempData.period,callback:function(t){e.$set(e.tempData,"period",t)},expression:"tempData.period"}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.handleCancel(e.PrincipalInfo.dialogVisible)}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(e.PrincipalInfo)}}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(e.PrincipalInfo)}}},[e._v("添加")])],1)],1)],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{staticClass:"bottomClass",attrs:{label:"年均教学工作量及减免比例"}},[a("el-input",{model:{value:e.form.averageAnnualTeachingWorkloadAndReductionRatio,callback:function(t){e.$set(e.form,"averageAnnualTeachingWorkloadAndReductionRatio",t)},expression:"form.averageAnnualTeachingWorkloadAndReductionRatio"}})],1),a("el-form-item",{attrs:{label:"主要教学业绩"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.form.mainTeachingAchievements,callback:function(t){e.$set(e.form,"mainTeachingAchievements",t)},expression:"form.mainTeachingAchievements"}})],1)],1)],1),a("el-row")],1)},g=[],y=(a("a434"),a("2b0e")),D=a("b775");function x(e){return Object(D["a"])({url:"/declaration-form/principal",method:"post",data:e})}function C(e,t){return Object(D["a"])({url:"declaration-form/principal/"+e,method:"post",data:t})}var k=a("1d7f"),w={props:{principalID:{type:String}},data:function(){return{editStatus:!1,tempData:{},form:{nameOfTeachingOrganization:"",subordinateUnit:"",classification:"",approvalLevel:{provincialQualificationOfTime:"",provincialExcellenceOfTime:""},name:"",birthdate:"",gender:"",politicalAffiliation:"",degree:"",authorizationDepartment:"",dateOfGrant:"",universityTeachingAge:"",professionalTitle:"",administrativeDuties:"",dateOfHeadOfBasicTeachingOrganization:"",postAllowance:"",teachingCoursesInRecentTwoAcademicYears:[{course:"",period:""}],averageAnnualTeachingWorkloadAndReductionRatio:"",mainTeachingAchievements:""},PrincipalInfo:{tables:[[]],dialogVisible:[!1]},options:["中共党员","中共预备党员","共青团员","民革党员","民盟盟员","民建会员","民进会员","农工党党员","致公党党员","九三学社社员","台盟盟员","无党派人士","群众"],optionsOfDegree:["小学","初中","高中","大专","本科","硕士研究生","博士研究生"]}},watch:{principalID:function(e,t){this.getFormInfo()}},methods:{createPrincipalInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getInfo();case 2:return t.next=4,x(e.form).then((function(t){e.$emit("getPrincipalID",t.data.principalID)})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})))()},handleClickAdd:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},this.editStatus=!1,y["default"].set(e,t,!0)},handleAdd:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t[i].push(this.tempData),a[i]=!1},handleSave:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y["default"].set(t[i],this.editIndex,this.tempData),a[i]=!1},handleCancel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},e[t]=!1},handleClickEdit:function(e,t,a){var i=e.dialogVisible,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=_.cloneDeep(t);this.tempData=o,this.editIndex=a,this.editStatus=!0,i[n]=!0},handleClickDelete:function(e,t){var a=e.tables,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a[i].splice(t,1)},getInfo:function(){this.form.teachingCoursesInRecentTwoAcademicYears=void 0,this.form.teachingCoursesInRecentTwoAcademicYears=new Array;for(var e=0;e<this.PrincipalInfo.tables[0].length;e++){var t={};t["course"]=this.PrincipalInfo.tables[0][e].course,t["period"]=this.PrincipalInfo.tables[0][e].period,this.form.teachingCoursesInRecentTwoAcademicYears[e]=t}},getFormInfo:function(){var e=this;Object(k["a"])(this.principalID).then((function(t){var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i]);for(var n=0;n<e.form.teachingCoursesInRecentTwoAcademicYears.length;n++){var o={};o["course"]=e.form.teachingCoursesInRecentTwoAcademicYears[n].course,o["period"]=e.form.teachingCoursesInRecentTwoAcademicYears[n].period,y["default"].set(e.PrincipalInfo.tables[0],n,o)}}))},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getInfo();case 2:return t.next=4,C(e.principalID,e.form).then((function(e){})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})))()}}},I=w,S=(a("84bb"),Object(p["a"])(I,v,g,!1,null,"3d80f507",null)),O=S.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:"成员信息",visible:e.memberDialogFormVisible},on:{"update:visible":function(t){e.memberDialogFormVisible=t}}},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-form",{attrs:{model:e.tempMember}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{model:{value:e.tempMember.name,callback:function(t){e.$set(e.tempMember,"name",t)},expression:"tempMember.name"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出生年月"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"请选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.tempMember.birthdate,callback:function(t){e.$set(e.tempMember,"birthdate",t)},expression:"tempMember.birthdate"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"性别"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.tempMember.gender,callback:function(t){e.$set(e.tempMember,"gender",t)},expression:"tempMember.gender"}},[a("el-option",{attrs:{label:"男",value:"男"}}),a("el-option",{attrs:{label:"女",value:"女"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"政治面貌"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.tempMember.politicalAffiliation,callback:function(t){e.$set(e.tempMember,"politicalAffiliation",t)},expression:"tempMember.politicalAffiliation"}},e._l(e.options,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"最终学位"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.tempMember.degree,callback:function(t){e.$set(e.tempMember,"degree",t)},expression:"tempMember.degree"}},e._l(e.optionsOfDegree,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"职称"}},[a("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"请选择"},model:{value:e.tempMember.professionalTitle,callback:function(t){e.$set(e.tempMember,"professionalTitle",t)},expression:"tempMember.professionalTitle"}},[a("el-option",{attrs:{label:"助教",value:"助教"}}),a("el-option",{attrs:{label:"讲师",value:"讲师"}}),a("el-option",{attrs:{label:"副教授",value:"副教授"}}),a("el-option",{attrs:{label:"教授",value:"教授"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"行政职务"}},[a("el-input",{model:{value:e.tempMember.administrativeDuties,callback:function(t){e.$set(e.tempMember,"administrativeDuties",t)},expression:"tempMember.administrativeDuties"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"高校教龄"}},[a("el-input",{model:{value:e.tempMember.universityTeachingAge,callback:function(t){e.$set(e.tempMember,"universityTeachingAge",t)},expression:"tempMember.universityTeachingAge"}})],1)],1)],1),a("el-row",[a("el-form-item",{attrs:{label:"近2学年任教课程及学时"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.tempMember.teachingCoursesInRecentTwoAcademicYears,callback:function(t){e.$set(e.tempMember,"teachingCoursesInRecentTwoAcademicYears",t)},expression:"tempMember.teachingCoursesInRecentTwoAcademicYears"}})],1)],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.editMember(!1)}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:e.saveToMembers}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:e.addToMembers}},[e._v("添加")])],1)],1)],1)],1),a("el-dialog",{attrs:{title:"从Excel中导入",visible:e.uploadExcelDialogFormVisible},on:{"update:visible":function(t){e.uploadExcelDialogFormVisible=t}}},[a("upload-excel",{attrs:{"on-success":e.handleSuccess,header:["name","birthdate","gender","politicalAffiliation","degree","professionalTitle","administrativeDuties","universityTeachingAge","JinLiangNianJiaoShouKeChengJiXueShi"]}})],1),a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("成员概况")])])]),a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.editMember(!0)}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add"},on:{click:e.importFromExcel}},[e._v("从Excel导入")]),a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出excel模板")])],1),a("el-table",{attrs:{data:this.form.data,"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50px"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"birthdate",label:"出生年月"}}),a("el-table-column",{attrs:{prop:"gender",label:"性别"}}),a("el-table-column",{attrs:{prop:"politicalAffiliation",label:"政治面貌"}}),a("el-table-column",{attrs:{prop:"degree",label:"最终学位"}}),a("el-table-column",{attrs:{prop:"professionalTitle",label:"职称"}}),a("el-table-column",{attrs:{prop:"administrativeDuties",label:"行政职务"}}),a("el-table-column",{attrs:{prop:"universityTeachingAge",label:"高校教龄"}}),a("el-table-column",{attrs:{width:"200",prop:"teachingCoursesInRecentTwoAcademicYears",label:"近2学年任教课程及学时"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{"margin-bottom":"1px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.handleEdit(t.row,t.$index)}}})],1),a("el-row",{staticStyle:{"margin-top":"1px"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(a){return e.handleDelete(t.$index)}}})],1)]}}])})],1)],1)},J=[];a("ace4"),a("ac1f"),a("25f0"),a("3ca3"),a("5319"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("ddb0"),a("2b3d");function $(e){return Object(D["a"])({url:"/declaration-form/teachers",method:"post",data:e})}function R(e,t){return Object(D["a"])({url:"/declaration-form/teachers/"+e,method:"post",data:t})}var P=a("58bd"),j={props:{membersID:{type:String}},components:{UploadExcel:h},data:function(){return{form:{data:[],queryInfo:{},count:""},memberDialogFormVisible:!1,uploadExcelDialogFormVisible:!1,editStatus:!1,editIndex:-1,tempMember:{name:"",birthdate:"",gender:"",politicalAffiliation:"",degree:"",professionalTitle:"",administrativeDuties:"",universityTeachingAge:"",teachingCoursesInRecentTwoAcademicYears:""},options:["中共党员","中共预备党员","共青团员","民革党员","民盟盟员","民建会员","民进会员","农工党党员","致公党党员","九三学社社员","台盟盟员","无党派人士","群众"],optionsOfDegree:["小学","初中","高中","大专","本科","硕士研究生","博士研究生"]}},watch:{membersID:function(e,t){this.getFormInfo()}},methods:{createMembersInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$(e.form).then((function(t){console.log(t.data.membersID),e.$emit("getMembersID",t.data.membersID)})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},editMember:function(e){this.tempMember={name:"",birthdate:"",gender:"",politicalAffiliation:"",degree:"",professionalTitle:"",administrativeDuties:"",universityTeachingAge:"",teachingCoursesInRecentTwoAcademicYears:""},this.memberDialogFormVisible=e,this.editStatus=!1},addToMembers:function(){this.form.data.push(this.tempMember),this.editMember(!1)},saveToMembers:function(){y["default"].set(this.form.data,this.editIndex,this.tempMember),this.editMember(!1)},importFromExcel:function(){this.uploadExcelDialogFormVisible=!0},handleSuccess:function(e){var t=e.results;e.header;this.$message({message:"导入成功！",type:"success"});for(var a=0;a<t.length;a++){var i={};i.name=t[a].name,i.birthdate=t[a].birthdate,i.gender=t[a].gender,i.politicalAffiliation=t[a].politicalAffiliation,i.degree=t[a].degree,i.professionalTitle=t[a].professionalTitle,i.administrativeDuties=t[a].administrativeDuties,i.universityTeachingAge=t[a].universityTeachingAge,i.teachingCoursesInRecentTwoAcademicYears=t[a].teachingCoursesInRecentTwoAcademicYears,this.form.data.push(i)}this.uploadExcelDialogFormVisible=!1},handleEdit:function(e,t){var a=_.cloneDeep(e);this.tempMember=a,this.editIndex=t,this.editStatus=!0,this.memberDialogFormVisible=!0},handleDelete:function(e){this.form.data.splice(e,1)},exportExcel:function(){function e(e,t){for(var a="",i=0;i<t.length;i++){for(var n=t[i],o=0;o<n.length;o++){var r=null===n[o]?"":n[o].toString();r=r.replace(/\t/gi," "),o>0&&(a+="\t"),a+=r}a+="\n"}var l,s=[];s.push(255,254);for(i=0;i<a.length;++i)l=a.charCodeAt(i),s.push(255&l),s.push(l/256>>>0);var c=new Blob([new Uint8Array(s)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(c,e);else{var u=document.createElement("a");if(void 0!==u.download){var m=window.URL.createObjectURL(c);u.setAttribute("href",m),u.setAttribute("download",e),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(m)}}}e("download.csv",[["姓名","出生年月","性别","政治面貌","最终学位","职称","行政职务","高校教龄","近2学年任教课程及学时"],["无名氏","1999年5月12","男","中共党员","博士","教授","院长","10","C#程序设计，35学时"]])},getFormInfo:function(){var e=this;Object(P["a"])(this.membersID).then((function(t){console.log(t);var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i])}))},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,R(e.membersID,e.form).then((function(e){})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()}}},E=j,A=(a("31f1"),Object(p["a"])(E,T,J,!1,null,"dfd3c71e",null)),F=A.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",[a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("规章制度建设")])])]),a("Tinymce",{ref:"rules",model:{value:e.form.content.html,callback:function(t){e.$set(e.form.content,"html",t)},expression:"form.content.html"}})],1)},M=[],V=a("d5a5");function N(e){return Object(D["a"])({url:"/declaration-form/rules-and-regulations",method:"post",data:e})}function Y(e,t){return Object(D["a"])({url:"/declaration-form/rules-and-regulations/"+e,method:"post",data:t})}var X=a("e5ac"),U={props:{ruleAndRegulationID:{type:String}},components:{Tinymce:V["a"]},data:function(){return{form:{content:{html:"<div style='font-family: 仿宋; font-size: 18pt''><b>（一）基本管理制度&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（二）发展目标&nbsp;&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（三）本学年年度计划</b></div><div style='font-family: 仿宋; font-size: 12pt''></div>"}}}},watch:{ruleAndRegulationID:function(e,t){this.getFormInfo()}},methods:{createRulesInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,N(e.form).then((function(t){e.$emit("getRulesID",t.data.ruleAndRegulationID)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},getHtml:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},getFormInfo:function(){var e=this;Object(X["a"])(this.ruleAndRegulationID).then((function(t){var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i]);e.$refs.rules.setContent(e.form.content.html)}))},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,Y(e.ruleAndRegulationID,e.form).then((function(e){})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},G=U,L=(a("fc60"),Object(p["a"])(G,z,M,!1,null,"06408fa0",null)),W=L.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",[a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("队伍建设")])])]),a("Tinymce",{ref:"team",model:{value:e.form.content.html,callback:function(t){e.$set(e.form.content,"html",t)},expression:"form.content.html"}}),a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleClickAdd(e.DuiWuJianShe.dialogVisible)}}},[e._v("添加")])],1),a("el-table",{attrs:{data:e.DuiWuJianShe.tables[0],"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"nameOfNewTeacher",label:"新入职教师姓名"}}),a("el-table-column",{attrs:{prop:"trainingTime",label:"培训时间（学时）"}}),a("el-table-column",{attrs:{prop:"trainingPlace",label:"培训地点"}}),a("el-table-column",{attrs:{prop:"trainingInstitution",label:"培训单位"}}),a("el-table-column",{attrs:{prop:"supervisor",label:"指导教师"}}),a("el-table-column",{attrs:{prop:"professionalTitle",label:"职称"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{"margin-bottom":"1px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.handleClickEdit(e.DuiWuJianShe,t.row,t.$index)}}})],1),a("el-row",{staticStyle:{"margin-top":"1px"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(a){return e.handleClickDelete(e.DuiWuJianShe,t.$index)}}})],1)]}}])})],1)],1),a("el-dialog",{attrs:{title:"新入职教师信息",visible:e.DuiWuJianShe.dialogVisible[0]},on:{"update:visible":function(t){return e.$set(e.DuiWuJianShe.dialogVisible,0,t)}}},[a("el-form",{attrs:{model:e.tempData}},[a("el-form-item",{attrs:{label:"新入职教师姓名"}},[a("el-input",{model:{value:e.tempData.nameOfNewTeacher,callback:function(t){e.$set(e.tempData,"nameOfNewTeacher",t)},expression:"tempData.nameOfNewTeacher"}})],1),a("el-form-item",{attrs:{label:"培训时间（学时）"}},[a("el-input",{model:{value:e.tempData.trainingTime,callback:function(t){e.$set(e.tempData,"trainingTime",t)},expression:"tempData.trainingTime"}})],1),a("el-form-item",{attrs:{label:"培训地点"}},[a("el-input",{model:{value:e.tempData.trainingPlace,callback:function(t){e.$set(e.tempData,"trainingPlace",t)},expression:"tempData.trainingPlace"}})],1),a("el-form-item",{attrs:{label:"培训单位"}},[a("el-input",{model:{value:e.tempData.trainingInstitution,callback:function(t){e.$set(e.tempData,"trainingInstitution",t)},expression:"tempData.trainingInstitution"}})],1),a("el-form-item",{attrs:{label:"指导教师"}},[a("el-input",{model:{value:e.tempData.supervisor,callback:function(t){e.$set(e.tempData,"supervisor",t)},expression:"tempData.supervisor"}})],1),a("el-form-item",{attrs:{label:"职称"}},[a("el-input",{model:{value:e.tempData.professionalTitle,callback:function(t){e.$set(e.tempData,"professionalTitle",t)},expression:"tempData.professionalTitle"}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.handleCancel(e.DuiWuJianShe.dialogVisible)}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(e.DuiWuJianShe)}}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(e.DuiWuJianShe)}}},[e._v("添加")])],1)],1)],1)],1)},B=[];function K(e){return Object(D["a"])({url:"/declaration-form/team-building",method:"post",data:e})}function Z(e,t){return Object(D["a"])({url:"/declaration-form/team-building/"+e,method:"post",data:t})}var q=a("34e7"),Q={props:{teamBuildingID:{type:String}},components:{Tinymce:V["a"]},data:function(){return{editStatus:!1,tempData:{},form:{content:{html:"<div style='font-family: 仿宋; font-size: 18pt''><b>（一）师德建设&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（二）团队结构&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（三）教师传帮带机制&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（四）双师型教师建设&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div>"},newTeachers:[{nameOfNewTeacher:"",trainingTime:"",trainingPlace:"",trainingInstitution:"",supervisor:"",professionalTitle:""}]},DuiWuJianShe:{tables:[[]],dialogVisible:[!1]}}},watch:{teamBuildingID:function(e,t){this.getFormInfo()}},methods:{handleClickAdd:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},this.editStatus=!1,y["default"].set(e,t,!0)},handleAdd:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t[i].push(this.tempData),a[i]=!1},handleSave:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y["default"].set(t[i],this.editIndex,this.tempData),a[i]=!1},handleCancel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},e[t]=!1},handleClickEdit:function(e,t,a){var i=e.dialogVisible,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=_.cloneDeep(t);this.tempData=o,this.editIndex=a,this.editStatus=!0,i[n]=!0},handleClickDelete:function(e,t){var a=e.tables,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a[i].splice(t,1)},createTeamInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,K(e.form).then((function(t){console.log(e.form),e.$emit("getTeamBuildingID",t.data.teamBuildingID)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},getHtml:function(){this.form.newTeachers=void 0,this.form.newTeachers=new Array;for(var e=0;e<this.DuiWuJianShe.tables[0].length;e++){var t={};t["nameOfNewTeacher"]=this.DuiWuJianShe.tables[0][e].nameOfNewTeacher,t["trainingTime"]=this.DuiWuJianShe.tables[0][e].trainingTime,t["trainingPlace"]=this.DuiWuJianShe.tables[0][e].trainingPlace,t["trainingInstitution"]=this.DuiWuJianShe.tables[0][e].trainingInstitution,t["supervisor"]=this.DuiWuJianShe.tables[0][e].supervisor,t["professionalTitle"]=this.DuiWuJianShe.tables[0][e].professionalTitle,this.form.newTeachers[e]=t}},getFormInfo:function(){var e=this;Object(q["a"])(this.teamBuildingID).then((function(t){var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i]);e.$refs.team.setContent(e.form.content.html);for(var n=0;n<e.form.newTeachers.length;n++){var o={};o["nameOfNewTeacher"]=e.form.newTeachers[n].nameOfNewTeacher,o["trainingTime"]=e.form.newTeachers[n].trainingTime,o["trainingPlace"]=e.form.newTeachers[n].trainingPlace,o["trainingInstitution"]=e.form.newTeachers[n].trainingInstitution,o["supervisor"]=e.form.newTeachers[n].supervisor,o["professionalTitle"]=e.form.newTeachers[n].professionalTitle,y["default"].set(e.DuiWuJianShe.tables[0],n,o)}}))},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,Z(e.teamBuildingID,e.form).then((function(t){console.log(e.form)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},ee=Q,te=(a("c710"),Object(p["a"])(ee,H,B,!1,null,"d656b32c",null)),ae=te.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{model:e.form}},[a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("教学组织")])])]),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"教师总数（人）"}},[a("el-input",{model:{value:e.form.totalNumberOfTeachers,callback:function(t){e.$set(e.form,"totalNumberOfTeachers",t)},expression:"form.totalNumberOfTeachers"}})],1)],1),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"承担课程（门）"}},[a("el-input",{model:{value:e.form.coursesUndertaken,callback:function(t){e.$set(e.form,"coursesUndertaken",t)},expression:"form.coursesUndertaken"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"人均周学时"}},[a("el-input",{model:{value:e.form.perCapitaWeeklySchoolHours,callback:function(t){e.$set(e.form,"perCapitaWeeklySchoolHours",t)},expression:"form.perCapitaWeeklySchoolHours"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"人均指导毕业论文/设计"}},[a("el-input",{model:{value:e.form.perCapitaGuidingGraduationThesis,callback:function(t){e.$set(e.form,"perCapitaGuidingGraduationThesis",t)},expression:"form.perCapitaGuidingGraduationThesis"}})],1)],1),a("el-col",{attrs:{span:3}},[a("el-form-item",{attrs:{label:"教学事故（次）"}},[a("el-input",{model:{value:e.form.teachingAccident,callback:function(t){e.$set(e.form,"teachingAccident",t)},expression:"form.teachingAccident"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"综合评教优秀以上人数及比例"}},[a("el-input",{model:{value:e.form.comprehensiveEvaluationOfExcellentTeaching,callback:function(t){e.$set(e.form,"comprehensiveEvaluationOfExcellentTeaching",t)},expression:"form.comprehensiveEvaluationOfExcellentTeaching"}})],1)],1)],1),a("Tinymce",{ref:"organ",model:{value:e.form.content.html,callback:function(t){e.$set(e.form.content,"html",t)},expression:"form.content.html"}}),a("el-dialog",{attrs:{title:"从Excel中导入",visible:e.uploadExcelDialogFormVisible},on:{"update:visible":function(t){e.uploadExcelDialogFormVisible=t}}},[a("upload-excel",{attrs:{"on-success":e.handleSuccess,header:["professorName","course","period","studentNumbers","semesterTime"],attr:["教授姓名","讲授课程","学时","学生人数","学期时间"]}})],1),a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleClickAdd(e.part3.JiaoXueZuZhi.dialogVisible)}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add"},on:{click:e.importFromExcel}},[e._v("从Excel导入")]),a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出excel模板")])],1),a("el-table",{attrs:{data:e.part3.JiaoXueZuZhi.tables[0],"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"professorName",label:"教授姓名"}}),a("el-table-column",{attrs:{prop:"course",label:"讲授课程"}}),a("el-table-column",{attrs:{prop:"period",label:"学时"}}),a("el-table-column",{attrs:{prop:"studentNumbers",label:"学生人数"}}),a("el-table-column",{attrs:{prop:"semesterTime",label:"学期时间"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{"margin-bottom":"1px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.handleClickEdit(e.part3.JiaoXueZuZhi,t.row,t.$index)}}})],1),a("el-row",{staticStyle:{"margin-top":"1px"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(a){return e.handleClickDelete(e.part3.JiaoXueZuZhi,t.$index)}}})],1)]}}])})],1)],1),a("el-dialog",{attrs:{title:"教学组织信息",visible:e.part3.JiaoXueZuZhi.dialogVisible[0]},on:{"update:visible":function(t){return e.$set(e.part3.JiaoXueZuZhi.dialogVisible,0,t)}}},[a("el-form",{attrs:{model:e.tempData}},[a("el-form-item",{attrs:{label:"教授姓名"}},[a("el-input",{model:{value:e.tempData.professorName,callback:function(t){e.$set(e.tempData,"professorName",t)},expression:"tempData.professorName"}})],1),a("el-form-item",{attrs:{label:"讲授课程"}},[a("el-input",{model:{value:e.tempData.course,callback:function(t){e.$set(e.tempData,"course",t)},expression:"tempData.course"}})],1),a("el-form-item",{attrs:{label:"学时"}},[a("el-input",{model:{value:e.tempData.period,callback:function(t){e.$set(e.tempData,"period",t)},expression:"tempData.period"}})],1),a("el-form-item",{attrs:{label:"学生人数"}},[a("el-input",{model:{value:e.tempData.studentNumbers,callback:function(t){e.$set(e.tempData,"studentNumbers",t)},expression:"tempData.studentNumbers"}})],1),a("el-form-item",{attrs:{label:"学期时间"}},[a("el-input",{model:{value:e.tempData.semesterTime,callback:function(t){e.$set(e.tempData,"semesterTime",t)},expression:"tempData.semesterTime"}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.handleCancel(e.part3.JiaoXueZuZhi.dialogVisible)}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(e.part3.JiaoXueZuZhi)}}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(e.part3.JiaoXueZuZhi)}}},[e._v("添加")])],1)],1)],1)],1)},ne=[];function oe(e){return Object(D["a"])({url:"/declaration-form/teaching-organization",method:"post",data:e})}function re(e,t){return Object(D["a"])({url:"/declaration-form/teaching-organization/"+e,method:"post",data:t})}var le=a("9367"),se={props:{teachingOrganizationID:{type:String}},components:{Tinymce:V["a"],UploadExcel:h},data:function(){return{uploadExcelDialogFormVisible:!1,tempData:{},memberDialogFormVisible:!1,editStatus:!1,editIndex:-1,form:{totalNumberOfTeachers:"",coursesUndertaken:"",perCapitaWeeklySchoolHours:"",perCapitaGuidingGraduationThesis:"",teachingAccident:"",comprehensiveEvaluationOfExcellentTeaching:"",content:{html:"<div style='font-family: 仿宋; font-size: 18pt''><b>（一）教学计划&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（二）课堂教学&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（三）教学运行&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（四）教学评价情况</b></div><div style='font-family: 仿宋; font-size: 12pt''></div>"},info:[{professorName:"",course:"",period:"",studentNumbers:"",semesterTime:""}]},part3:{JiaoXueZuZhi:{tables:[[]],dialogVisible:[!1]}}}},watch:{teachingOrganizationID:function(e,t){this.getFormInfo()}},methods:{importFromExcel:function(){this.uploadExcelDialogFormVisible=!0},exportExcel:function(){function e(e,t){for(var a="",i=0;i<t.length;i++){for(var n=t[i],o=0;o<n.length;o++){var r=null===n[o]?"":n[o].toString();r=r.replace(/\t/gi," "),o>0&&(a+="\t"),a+=r}a+="\n"}var l,s=[];s.push(255,254);for(i=0;i<a.length;++i)l=a.charCodeAt(i),s.push(255&l),s.push(l/256>>>0);var c=new Blob([new Uint8Array(s)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(c,e);else{var u=document.createElement("a");if(void 0!==u.download){var m=window.URL.createObjectURL(c);u.setAttribute("href",m),u.setAttribute("download",e),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(m)}}}e("download.csv",[["教授姓名","讲授课程","学时","学生人数","学期时间"],["无名氏","高数","32","156","2020-2021学年第一学期"]])},handleSuccess:function(e){var t=e.results;e.header;this.$message({message:"导入成功！",type:"success"});for(var a=0;a<t.length;a++){var i={};i.professorName=t[a].professorName,i.course=t[a].course,i.period=t[a].period,i.studentNumbers=t[a].studentNumbers,i.semesterTime=t[a].semesterTime,this.form.info.push(i),this.part3.JiaoXueZuZhi.tables[0].push(i)}this.uploadExcelDialogFormVisible=!1},handleClickAdd:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},this.editStatus=!1,y["default"].set(e,t,!0)},handleAdd:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t[i].push(this.tempData),a[i]=!1},handleSave:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y["default"].set(t[i],this.editIndex,this.tempData),a[i]=!1},handleCancel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},e[t]=!1},handleClickEdit:function(e,t,a){var i=e.dialogVisible,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=_.cloneDeep(t);this.tempData=o,this.editIndex=a,this.editStatus=!0,i[n]=!0},handleClickDelete:function(e,t){var a=e.tables,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a[i].splice(t,1)},createOrganizationInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,oe(e.form).then((function(t){e.$emit("getOrganizationID",t.data.teachingOrganizationID)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},getHtml:function(){this.form.info=void 0,this.form.info=new Array;for(var e=0;e<this.part3.JiaoXueZuZhi.tables[0].length;e++){var t={};t["professorName"]=this.part3.JiaoXueZuZhi.tables[0][e].professorName,t["course"]=this.part3.JiaoXueZuZhi.tables[0][e].course,t["period"]=this.part3.JiaoXueZuZhi.tables[0][e].period,t["studentNumbers"]=this.part3.JiaoXueZuZhi.tables[0][e].studentNumbers,t["semesterTime"]=this.part3.JiaoXueZuZhi.tables[0][e].semesterTime,this.form.info[e]=t}},getFormInfo:function(){var e=this;Object(le["a"])(this.teachingOrganizationID).then((function(t){var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i]);e.$refs.organ.setContent(e.form.content.html);for(var n=0;n<e.form.info.length;n++){var o={};o["professorName"]=e.form.info[n].professorName,o["course"]=e.form.info[n].course,o["period"]=e.form.info[n].period,o["studentNumbers"]=e.form.info[n].studentNumbers,o["semesterTime"]=e.form.info[n].semesterTime,y["default"].set(e.part3.JiaoXueZuZhi.tables[0],n,o)}}))},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,re(e.teachingOrganizationID,e.form).then((function(e){})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},ce=se,ue=(a("d4b4"),Object(p["a"])(ce,ie,ne,!1,null,"691a785d",null)),me=ue.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",[a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("课程教材概述")])])]),a("Tinymce",{ref:"course",model:{value:e.form.content.html,callback:function(t){e.$set(e.form.content,"html",t)},expression:"form.content.html"}}),a("el-dialog",{attrs:{title:"从Excel中导入",visible:e.uploadExcelDialogFormVisibleFirst},on:{"update:visible":function(t){e.uploadExcelDialogFormVisibleFirst=t}}},[a("upload-excel",{attrs:{"on-success":e.handleSuccessFirst,header:["onlineCourseName","platformSite","chosenNumbers","period","completionTime","level","professionalTitle"],attr:["在线开放课程","平台网址","选课人数","总课时","建成时间","校级/省级"]}})],1),a("el-dialog",{attrs:{title:"从Excel中导入",visible:e.uploadExcelDialogFormVisibleSecond},on:{"update:visible":function(t){e.uploadExcelDialogFormVisibleSecond=t}}},[a("upload-excel",{attrs:{"on-success":e.handleSuccessSecond,header:["nameOfTeachingMaterial","editorInChief","participatingEditor","theNumberOfWordsInTheChapter","yearOfPublication","press","level"],attr:["规划教材名称","主编","参编","章节字数","出版年","出版社","省级/国家级"]}})],1),a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleClickAdd(e.part3.KeChengJiaoCaiGaiShu.dialogVisible)}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add"},on:{click:e.importFromExcelFirst}},[e._v("从Excel导入")]),a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcelFirst}},[e._v("导出excel模板")])],1),a("el-table",{attrs:{data:e.part3.KeChengJiaoCaiGaiShu.tables[0],"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"onlineCourseName",label:"在线开放课程"}}),a("el-table-column",{attrs:{prop:"platformSite",label:"平台网址"}}),a("el-table-column",{attrs:{prop:"chosenNumbers",label:"选课人数"}}),a("el-table-column",{attrs:{prop:"period",label:"总课时"}}),a("el-table-column",{attrs:{prop:"completionTime",label:"建成时间"}}),a("el-table-column",{attrs:{prop:"level",label:"校级/省级"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{"margin-bottom":"1px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.handleClickEdit(e.part3.KeChengJiaoCaiGaiShu,t.row,t.$index)}}})],1),a("el-row",{staticStyle:{"margin-top":"1px"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(a){return e.handleClickDelete(e.part3.KeChengJiaoCaiGaiShu,t.$index)}}})],1)]}}])})],1),a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleClickAdd(e.part3.KeChengJiaoCaiGaiShu.dialogVisible,1)}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add"},on:{click:e.importFromExcelSecond}},[e._v("从Excel导入")]),a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcelSecond}},[e._v("导出excel模板")])],1),a("el-table",{attrs:{data:e.part3.KeChengJiaoCaiGaiShu.tables[1],"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"nameOfTeachingMaterial",label:"规划教材名称"}}),a("el-table-column",{attrs:{prop:"editorInChief",label:"主编"}}),a("el-table-column",{attrs:{prop:"participatingEditor",label:"参编"}}),a("el-table-column",{attrs:{prop:"theNumberOfWordsInTheChapter",label:"章节字数"}}),a("el-table-column",{attrs:{prop:"yearOfPublication",label:"出版年"}}),a("el-table-column",{attrs:{prop:"press",label:"出版社"}}),a("el-table-column",{attrs:{prop:"level",label:"省级/国家级"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{"margin-bottom":"1px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.handleClickEdit(e.part3.KeChengJiaoCaiGaiShu,t.row,t.$index,1)}}})],1),a("el-row",{staticStyle:{"margin-top":"1px"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(a){return e.handleClickDelete(e.part3.KeChengJiaoCaiGaiShu,t.$index,1)}}})],1)]}}])})],1)],1),a("el-dialog",{attrs:{title:"在线课程信息",visible:e.part3.KeChengJiaoCaiGaiShu.dialogVisible[0]},on:{"update:visible":function(t){return e.$set(e.part3.KeChengJiaoCaiGaiShu.dialogVisible,0,t)}}},[a("el-form",{attrs:{model:e.tempData}},[a("el-form-item",{attrs:{label:"在线开放课程"}},[a("el-input",{model:{value:e.tempData.onlineCourseName,callback:function(t){e.$set(e.tempData,"onlineCourseName",t)},expression:"tempData.onlineCourseName"}})],1),a("el-form-item",{attrs:{label:"平台网址"}},[a("el-input",{model:{value:e.tempData.platformSite,callback:function(t){e.$set(e.tempData,"platformSite",t)},expression:"tempData.platformSite"}})],1),a("el-form-item",{attrs:{label:"选课人数"}},[a("el-input",{model:{value:e.tempData.chosenNumbers,callback:function(t){e.$set(e.tempData,"chosenNumbers",t)},expression:"tempData.chosenNumbers"}})],1),a("el-form-item",{attrs:{label:"总课时"}},[a("el-input",{model:{value:e.tempData.period,callback:function(t){e.$set(e.tempData,"period",t)},expression:"tempData.period"}})],1),a("el-form-item",{attrs:{label:"建成时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.tempData.completionTime,callback:function(t){e.$set(e.tempData,"completionTime",t)},expression:"tempData.completionTime"}})],1),a("el-form-item",{attrs:{label:"校级/省级"}},[a("el-input",{model:{value:e.tempData.level,callback:function(t){e.$set(e.tempData,"level",t)},expression:"tempData.level"}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.handleCancel(e.part3.KeChengJiaoCaiGaiShu.dialogVisible)}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(e.part3.KeChengJiaoCaiGaiShu)}}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(e.part3.KeChengJiaoCaiGaiShu)}}},[e._v("添加")])],1)],1)],1),a("el-dialog",{attrs:{title:"规划教材信息",visible:e.part3.KeChengJiaoCaiGaiShu.dialogVisible[1]},on:{"update:visible":function(t){return e.$set(e.part3.KeChengJiaoCaiGaiShu.dialogVisible,1,t)}}},[a("el-form",{attrs:{model:e.tempData}},[a("el-form-item",{attrs:{label:"规划教材名称"}},[a("el-input",{model:{value:e.tempData.nameOfTeachingMaterial,callback:function(t){e.$set(e.tempData,"nameOfTeachingMaterial",t)},expression:"tempData.nameOfTeachingMaterial"}})],1),a("el-form-item",{attrs:{label:"主编"}},[a("el-input",{model:{value:e.tempData.editorInChief,callback:function(t){e.$set(e.tempData,"editorInChief",t)},expression:"tempData.editorInChief"}})],1),a("el-form-item",{attrs:{label:"参编"}},[a("el-input",{model:{value:e.tempData.participatingEditor,callback:function(t){e.$set(e.tempData,"participatingEditor",t)},expression:"tempData.participatingEditor"}})],1),a("el-form-item",{attrs:{label:"章节字数"}},[a("el-input",{model:{value:e.tempData.theNumberOfWordsInTheChapter,callback:function(t){e.$set(e.tempData,"theNumberOfWordsInTheChapter",t)},expression:"tempData.theNumberOfWordsInTheChapter"}})],1),a("el-form-item",{attrs:{label:"出版年"}},[a("el-input",{model:{value:e.tempData.yearOfPublication,callback:function(t){e.$set(e.tempData,"yearOfPublication",t)},expression:"tempData.yearOfPublication"}})],1),a("el-form-item",{attrs:{label:"出版社"}},[a("el-input",{model:{value:e.tempData.press,callback:function(t){e.$set(e.tempData,"press",t)},expression:"tempData.press"}})],1),a("el-form-item",{attrs:{label:"省级/国家级"}},[a("el-input",{model:{value:e.tempData.level,callback:function(t){e.$set(e.tempData,"level",t)},expression:"tempData.level"}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.handleCancel(e.part3.KeChengJiaoCaiGaiShu.dialogVisible,1)}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(e.part3.KeChengJiaoCaiGaiShu,1)}}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(e.part3.KeChengJiaoCaiGaiShu,1)}}},[e._v("添加")])],1)],1)],1)],1)},pe=[];function de(e){return Object(D["a"])({url:"/declaration-form/course-material",method:"post",data:e})}function he(e,t){return Object(D["a"])({url:"/declaration-form/course-material/"+e,method:"post",data:t})}var be=a("fe41"),ve={props:{courseMaterialID:{type:String}},components:{Tinymce:V["a"],UploadExcel:h},data:function(){return{uploadExcelDialogFormVisibleFirst:!1,uploadExcelDialogFormVisibleSecond:!1,tempData:{},memberDialogFormVisible:!1,editStatus:!1,editIndex:-1,form:{onlineCourses:[{onlineCourseName:"",platformSite:"",chosenNumbers:"",period:"",completionTime:"",level:""}],textbooks:[{nameOfTeachingMaterial:"",editorInChief:"",participatingEditor:"",theNumberOfWordsInTheChapter:"",yearOfPublication:"",press:"",level:""}],content:{html:"<div style='font-family: 仿宋; font-size: 18pt''><b>（一）课程体系建设&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（二）课程标准执行&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（三）教材建设&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（四）在线开放课程建设</b></div><div style='font-family: 仿宋; font-size: 12pt''></div>"}},part3:{KeChengJiaoCaiGaiShu:{tables:[[],[]],dialogVisible:[!1,!1]}}}},watch:{courseMaterialID:function(e,t){this.getFormInfo()}},methods:{importFromExcelFirst:function(){this.uploadExcelDialogFormVisibleFirst=!0},importFromExcelSecond:function(){this.uploadExcelDialogFormVisibleSecond=!0},exportExcelFirst:function(){function e(e,t){for(var a="",i=0;i<t.length;i++){for(var n=t[i],o=0;o<n.length;o++){var r=null===n[o]?"":n[o].toString();r=r.replace(/\t/gi," "),o>0&&(a+="\t"),a+=r}a+="\n"}var l,s=[];s.push(255,254);for(i=0;i<a.length;++i)l=a.charCodeAt(i),s.push(255&l),s.push(l/256>>>0);var c=new Blob([new Uint8Array(s)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(c,e);else{var u=document.createElement("a");if(void 0!==u.download){var m=window.URL.createObjectURL(c);u.setAttribute("href",m),u.setAttribute("download",e),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(m)}}}e("download.csv",[["在线开放课程","平台网址","选课人数","总课时","建成时间","校级/省级"],["数学","www.aaa.com","32","32","2000年1月12","校级"]])},exportExcelSecond:function(){function e(e,t){for(var a="",i=0;i<t.length;i++){for(var n=t[i],o=0;o<n.length;o++){var r=null===n[o]?"":n[o].toString();r=r.replace(/\t/gi," "),o>0&&(a+="\t"),a+=r}a+="\n"}var l,s=[];s.push(255,254);for(i=0;i<a.length;++i)l=a.charCodeAt(i),s.push(255&l),s.push(l/256>>>0);var c=new Blob([new Uint8Array(s)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(c,e);else{var u=document.createElement("a");if(void 0!==u.download){var m=window.URL.createObjectURL(c);u.setAttribute("href",m),u.setAttribute("download",e),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(m)}}}e("download.csv",[["规划教材名称","主编","参编","章节字数","出版年","出版社","省级/国家级"],["数学","小红","小明","10000","2012","河南大学出版社","国家级"]])},handleSuccessFirst:function(e){var t=e.results;e.header;this.$message({message:"导入成功！",type:"success"});for(var a=0;a<t.length;a++){var i={};i.onlineCourseName=t[a].onlineCourseName,i.platformSite=t[a].platformSite,i.chosenNumbers=t[a].chosenNumbers,i.period=t[a].period,i.completionTime=t[a].completionTime,i.level=t[a].level,this.form.onlineCourses.push(i),this.part3.KeChengJiaoCaiGaiShu.tables[0].push(i)}this.uploadExcelDialogFormVisibleFirst=!1},handleSuccessSecond:function(e){var t=e.results;e.header;this.$message({message:"导入成功！",type:"success"});for(var a=0;a<t.length;a++){var i={};i.nameOfTeachingMaterial=t[a].nameOfTeachingMaterial,i.editorInChief=t[a].editorInChief,i.participatingEditor=t[a].participatingEditor,i.theNumberOfWordsInTheChapter=t[a].theNumberOfWordsInTheChapter,i.yearOfPublication=t[a].yearOfPublication,i.press=t[a].press,i.level=t[a].level,this.form.textbooks.push(i),this.part3.KeChengJiaoCaiGaiShu.tables[1].push(i)}this.uploadExcelDialogFormVisibleSecond=!1},handleClickAdd:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},this.editStatus=!1,y["default"].set(e,t,!0)},handleAdd:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t[i].push(this.tempData),a[i]=!1},handleSave:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y["default"].set(t[i],this.editIndex,this.tempData),a[i]=!1},handleCancel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},e[t]=!1},handleClickEdit:function(e,t,a){var i=e.dialogVisible,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=_.cloneDeep(t);this.tempData=o,this.editIndex=a,this.editStatus=!0,i[n]=!0},handleClickDelete:function(e,t){var a=e.tables,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a[i].splice(t,1)},createCourseMaterialInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,de(e.form).then((function(t){console.log(e.form),e.$emit("getCourseMaterialID",t.data.courseMaterialID)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},getHtml:function(){this.form.onlineCourses=void 0,this.form.onlineCourses=new Array;for(var e=0;e<this.part3.KeChengJiaoCaiGaiShu.tables[0].length;e++){var t={};t["onlineCourseName"]=this.part3.KeChengJiaoCaiGaiShu.tables[0][e].onlineCourseName,t["platformSite"]=this.part3.KeChengJiaoCaiGaiShu.tables[0][e].platformSite,t["chosenNumbers"]=this.part3.KeChengJiaoCaiGaiShu.tables[0][e].chosenNumbers,t["period"]=this.part3.KeChengJiaoCaiGaiShu.tables[0][e].period,t["completionTime"]=this.part3.KeChengJiaoCaiGaiShu.tables[0][e].completionTime,t["level"]=this.part3.KeChengJiaoCaiGaiShu.tables[0][e].level,this.form.onlineCourses[e]=t}this.form.textbooks=void 0,this.form.textbooks=new Array;for(var a=0;a<this.part3.KeChengJiaoCaiGaiShu.tables[1].length;a++){var i={};i["nameOfTeachingMaterial"]=this.part3.KeChengJiaoCaiGaiShu.tables[1][a].nameOfTeachingMaterial,i["editorInChief"]=this.part3.KeChengJiaoCaiGaiShu.tables[1][a].editorInChief,i["participatingEditor"]=this.part3.KeChengJiaoCaiGaiShu.tables[1][a].participatingEditor,i["theNumberOfWordsInTheChapter"]=this.part3.KeChengJiaoCaiGaiShu.tables[1][a].theNumberOfWordsInTheChapter,i["yearOfPublication"]=this.part3.KeChengJiaoCaiGaiShu.tables[1][a].yearOfPublication,i["press"]=this.part3.KeChengJiaoCaiGaiShu.tables[1][a].press,i["level"]=this.part3.KeChengJiaoCaiGaiShu.tables[1][a].level,this.form.textbooks[a]=i}},getFormInfo:function(){var e=this;Object(be["a"])(this.courseMaterialID).then((function(t){var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i]);e.$refs.course.setContent(e.form.content.html);for(var n=0;n<e.form.onlineCourses.length;n++){var o={};o["onlineCourseName"]=e.form.onlineCourses[n].onlineCourseName,o["platformSite"]=e.form.onlineCourses[n].platformSite,o["chosenNumbers"]=e.form.onlineCourses[n].chosenNumbers,o["period"]=e.form.onlineCourses[n].period,o["completionTime"]=e.form.onlineCourses[n].completionTime,o["level"]=e.form.onlineCourses[n].level,y["default"].set(e.part3.KeChengJiaoCaiGaiShu.tables[0],n,o)}for(var r=0;r<e.form.textbooks.length;r++){var l={};l["nameOfTeachingMaterial"]=e.form.textbooks[r].nameOfTeachingMaterial,l["editorInChief"]=e.form.textbooks[r].editorInChief,l["participatingEditor"]=e.form.textbooks[r].participatingEditor,l["theNumberOfWordsInTheChapter"]=e.form.textbooks[r].theNumberOfWordsInTheChapter,l["yearOfPublication"]=e.form.textbooks[r].yearOfPublication,l["press"]=e.form.textbooks[r].press,l["level"]=e.form.textbooks[r].level,y["default"].set(e.part3.KeChengJiaoCaiGaiShu.tables[1],r,l)}}))},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,he(e.courseMaterialID,e.form).then((function(e){})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},ge=ve,ye=(a("dc08"),Object(p["a"])(ge,fe,pe,!1,null,"29e52e60",null)),De=ye.exports,xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{model:e.form}},[a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("教学研究")])])]),a("Tinymce",{ref:"teaching",model:{value:e.form.content.html,callback:function(t){e.$set(e.form.content,"html",t)},expression:"form.content.html"}}),a("el-dialog",{attrs:{title:"从Excel中导入",visible:e.uploadExcelDialogFormVisibleFirst},on:{"update:visible":function(t){e.uploadExcelDialogFormVisibleFirst=t}}},[a("upload-excel",{attrs:{"on-success":e.handleSuccessFirst,header:["nameOfEducationalReformProject","timeOfProjectEstablishment","projectSource","host","members","awards"],attr:["教改项目名称","立项时间","项目来源","主持人","成员","获奖等次(特等奖,一等奖,二等奖,三等奖,优秀奖)"]}})],1),a("el-dialog",{attrs:{title:"从Excel中导入",visible:e.uploadExcelDialogFormVisibleSecond},on:{"update:visible":function(t){e.uploadExcelDialogFormVisibleSecond=t}}},[a("upload-excel",{attrs:{"on-success":e.handleSuccessSecond,header:["nameOfTeachingResearchPaper","publishedTime","journalName","authorInChef"],attr:["教研论文名称","发表时间","期刊名称","第一作者"]}})],1),a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleClickAdd(e.part3.JiaoXueYanJiu.dialogVisible)}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add"},on:{click:e.importFromExcelFirst}},[e._v("从Excel导入")]),a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcelFirst}},[e._v("导出excel模板")])],1),a("el-table",{attrs:{data:e.part3.JiaoXueYanJiu.tables[0],"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"nameOfEducationalReformProject",label:"教改项目名称"}}),a("el-table-column",{attrs:{prop:"timeOfProjectEstablishment",label:"立项时间"}}),a("el-table-column",{attrs:{prop:"projectSource",label:"项目来源"}}),a("el-table-column",{attrs:{prop:"host",label:"主持人"}}),a("el-table-column",{attrs:{prop:"members",label:"成员"}}),a("el-table-column",{attrs:{prop:"awards",label:"获奖等次"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{"margin-bottom":"1px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.handleClickEdit(e.part3.JiaoXueYanJiu,t.row,t.$index)}}})],1),a("el-row",{staticStyle:{"margin-top":"1px"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(a){return e.handleClickDelete(e.part3.JiaoXueYanJiu,t.$index)}}})],1)]}}])})],1),a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleClickAdd(e.part3.JiaoXueYanJiu.dialogVisible,1)}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add"},on:{click:e.importFromExcelSecond}},[e._v("从Excel导入")]),a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcelSecond}},[e._v("导出excel模板")])],1),a("el-table",{attrs:{data:e.part3.JiaoXueYanJiu.tables[1],"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"nameOfTeachingResearchPaper",label:"教改论文题目"}}),a("el-table-column",{attrs:{prop:"publishedTime",label:"发表时间"}}),a("el-table-column",{attrs:{prop:"journalName",label:"期刊名称"}}),a("el-table-column",{attrs:{prop:"authorInChef",label:"第一作者"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{"margin-bottom":"1px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.handleClickEdit(e.part3.JiaoXueYanJiu,t.row,t.$index,1)}}})],1),a("el-row",{staticStyle:{"margin-top":"1px"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(a){return e.handleClickDelete(e.part3.JiaoXueYanJiu,t.$index,1)}}})],1)]}}])})],1),a("div",{staticClass:"form-subtitle"},[a("span",[e._v("5次代表性教研活动")])]),a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleClickAdd(e.part3.JiaoXueYanJiu.dialogVisible,2)}}},[e._v("添加")])],1),a("el-table",{attrs:{data:e.part3.JiaoXueYanJiu.tables[2],"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"time",label:"时间"}}),a("el-table-column",{attrs:{prop:"place",label:"地点"}}),a("el-table-column",{attrs:{prop:"content",label:"内容"}}),a("el-table-column",{attrs:{prop:"host",label:"主持人"}}),a("el-table-column",{attrs:{prop:"hostPosition",label:"主持人职务"}}),a("el-table-column",{attrs:{prop:"participants",label:"参加人员"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{"margin-bottom":"1px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.handleClickEdit(e.part3.JiaoXueYanJiu,t.row,t.$index,2)}}})],1),a("el-row",{staticStyle:{"margin-top":"1px"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(a){return e.handleClickDelete(e.part3.JiaoXueYanJiu,t.$index,2)}}})],1)]}}])})],1),a("div",{staticClass:"form-subtitle"},[a("span",[e._v("5次代表性校外教学研讨会")])]),a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleClickAdd(e.part3.JiaoXueYanJiu.dialogVisible,3)}}},[e._v("添加")])],1),a("el-table",{attrs:{data:e.part3.JiaoXueYanJiu.tables[3],"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"timeYear",label:"时间"}}),a("el-table-column",{attrs:{prop:"place",label:"地点"}}),a("el-table-column",{attrs:{prop:"content",label:"内容"}}),a("el-table-column",{attrs:{prop:"organizer",label:"主办单位"}}),a("el-table-column",{attrs:{prop:"participants",label:"参加人员"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{"margin-bottom":"1px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.handleClickEdit(e.part3.JiaoXueYanJiu,t.row,t.$index,3)}}})],1),a("el-row",{staticStyle:{"margin-top":"1px"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(a){return e.handleClickDelete(e.part3.JiaoXueYanJiu,t.$index,3)}}})],1)]}}])})],1)],1),a("el-dialog",{attrs:{title:"教改项目信息",visible:e.part3.JiaoXueYanJiu.dialogVisible[0]},on:{"update:visible":function(t){return e.$set(e.part3.JiaoXueYanJiu.dialogVisible,0,t)}}},[a("el-form",{attrs:{model:e.tempData}},[a("el-form-item",{attrs:{label:"教改项目名称"}},[a("el-input",{model:{value:e.tempData.nameOfEducationalReformProject,callback:function(t){e.$set(e.tempData,"nameOfEducationalReformProject",t)},expression:"tempData.nameOfEducationalReformProject"}})],1),a("el-form-item",{attrs:{label:"立项时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.tempData.timeOfProjectEstablishment,callback:function(t){e.$set(e.tempData,"timeOfProjectEstablishment",t)},expression:"tempData.timeOfProjectEstablishment"}})],1),a("el-form-item",{attrs:{label:"项目来源"}},[a("el-input",{model:{value:e.tempData.projectSource,callback:function(t){e.$set(e.tempData,"projectSource",t)},expression:"tempData.projectSource"}})],1),a("el-form-item",{attrs:{label:"主持人"}},[a("el-input",{model:{value:e.tempData.host,callback:function(t){e.$set(e.tempData,"host",t)},expression:"tempData.host"}})],1),a("el-form-item",{attrs:{label:"成员"}},[a("el-input",{model:{value:e.tempData.members,callback:function(t){e.$set(e.tempData,"members",t)},expression:"tempData.members"}})],1),a("el-form-item",{attrs:{label:"获奖等次"}},[a("el-input",{model:{value:e.tempData.awards,callback:function(t){e.$set(e.tempData,"awards",t)},expression:"tempData.awards"}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.handleCancel(e.part3.JiaoXueYanJiu.dialogVisible)}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(e.part3.JiaoXueYanJiu)}}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(e.part3.JiaoXueYanJiu)}}},[e._v("添加")])],1)],1)],1),a("el-dialog",{attrs:{title:"教改论文信息",visible:e.part3.JiaoXueYanJiu.dialogVisible[1]},on:{"update:visible":function(t){return e.$set(e.part3.JiaoXueYanJiu.dialogVisible,1,t)}}},[a("el-form",{attrs:{model:e.tempData}},[a("el-form-item",{attrs:{label:"教改论文题目"}},[a("el-input",{model:{value:e.tempData.nameOfTeachingResearchPaper,callback:function(t){e.$set(e.tempData,"nameOfTeachingResearchPaper",t)},expression:"tempData.nameOfTeachingResearchPaper"}})],1),a("el-form-item",{attrs:{label:"发表时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.tempData.publishedTime,callback:function(t){e.$set(e.tempData,"publishedTime",t)},expression:"tempData.publishedTime"}})],1),a("el-form-item",{attrs:{label:"期刊名称"}},[a("el-input",{model:{value:e.tempData.journalName,callback:function(t){e.$set(e.tempData,"journalName",t)},expression:"tempData.journalName"}})],1),a("el-form-item",{attrs:{label:"第一作者"}},[a("el-input",{model:{value:e.tempData.authorInChef,callback:function(t){e.$set(e.tempData,"authorInChef",t)},expression:"tempData.authorInChef"}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.handleCancel(e.part3.JiaoXueYanJiu.dialogVisible,1)}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(e.part3.JiaoXueYanJiu,1)}}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(e.part3.JiaoXueYanJiu,1)}}},[e._v("添加")])],1)],1)],1),a("el-dialog",{attrs:{title:"代表性教研活动",visible:e.part3.JiaoXueYanJiu.dialogVisible[2]},on:{"update:visible":function(t){return e.$set(e.part3.JiaoXueYanJiu.dialogVisible,2,t)}}},[a("el-form",{attrs:{model:e.tempData}},[a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.tempData.time,callback:function(t){e.$set(e.tempData,"time",t)},expression:"tempData.time"}})],1),a("el-form-item",{attrs:{label:"地点"}},[a("el-input",{model:{value:e.tempData.place,callback:function(t){e.$set(e.tempData,"place",t)},expression:"tempData.place"}})],1),a("el-form-item",{attrs:{label:"内容"}},[a("el-input",{model:{value:e.tempData.content,callback:function(t){e.$set(e.tempData,"content",t)},expression:"tempData.content"}})],1),a("el-form-item",{attrs:{label:"主持人"}},[a("el-input",{model:{value:e.tempData.host,callback:function(t){e.$set(e.tempData,"host",t)},expression:"tempData.host"}})],1),a("el-form-item",{attrs:{label:"主持人职务"}},[a("el-input",{model:{value:e.tempData.hostPosition,callback:function(t){e.$set(e.tempData,"hostPosition",t)},expression:"tempData.hostPosition"}})],1),a("el-form-item",{attrs:{label:"参加人员"}},[a("el-input",{model:{value:e.tempData.participants,callback:function(t){e.$set(e.tempData,"participants",t)},expression:"tempData.participants"}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.handleCancel(e.part3.JiaoXueYanJiu.dialogVisible,2)}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(e.part3.JiaoXueYanJiu,2)}}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(e.part3.JiaoXueYanJiu,2)}}},[e._v("添加")])],1)],1)],1),a("el-dialog",{attrs:{title:"代表性校外教学研讨会",visible:e.part3.JiaoXueYanJiu.dialogVisible[3]},on:{"update:visible":function(t){return e.$set(e.part3.JiaoXueYanJiu.dialogVisible,3,t)}}},[a("el-form",{attrs:{model:e.tempData}},[a("el-form-item",{attrs:{label:"时间/年份"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},model:{value:e.tempData.timeYear,callback:function(t){e.$set(e.tempData,"timeYear",t)},expression:"tempData.timeYear"}})],1),a("el-form-item",{attrs:{label:"地点"}},[a("el-input",{model:{value:e.tempData.place,callback:function(t){e.$set(e.tempData,"place",t)},expression:"tempData.place"}})],1),a("el-form-item",{attrs:{label:"内容"}},[a("el-input",{model:{value:e.tempData.content,callback:function(t){e.$set(e.tempData,"content",t)},expression:"tempData.content"}})],1),a("el-form-item",{attrs:{label:"主办单位"}},[a("el-input",{model:{value:e.tempData.organizer,callback:function(t){e.$set(e.tempData,"organizer",t)},expression:"tempData.organizer"}})],1),a("el-form-item",{attrs:{label:"参加人员"}},[a("el-input",{model:{value:e.tempData.participants,callback:function(t){e.$set(e.tempData,"participants",t)},expression:"tempData.participants"}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.handleCancel(e.part3.JiaoXueYanJiu.dialogVisible,3)}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(e.part3.JiaoXueYanJiu,3)}}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(e.part3.JiaoXueYanJiu,3)}}},[e._v("添加")])],1)],1)],1)],1)},Ce=[];function ke(e){return Object(D["a"])({url:"/declaration-form/teaching-research",method:"post",data:e})}function we(e,t){return Object(D["a"])({url:"/declaration-form/teaching-research/"+e,method:"post",data:t})}var Ie=a("09bf"),Se={props:{teachingResearchID:{type:String}},components:{Tinymce:V["a"],UploadExcel:h},data:function(){return{uploadExcelDialogFormVisibleFirst:!1,uploadExcelDialogFormVisibleSecond:!1,tempData:{},memberDialogFormVisible:!1,editStatus:!1,editIndex:-1,form:{content:{html:"<div style='font-family: 仿宋; font-size: 18pt''><b>（一）教改项目和教研论文&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（二）教研活动和听评课&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div>"},educationalReformProjects:[{nameOfEducationalReformProject:"",timeOfProjectEstablishment:"",projectSource:"",host:"",members:"",awards:""}],teachingResearchPapers:[{nameOfTeachingResearchPaper:"",publishedTime:"",journalName:"",authorInChef:""}],representativeTeachingAndResearchActivities:[{time:"",place:"",content:"",host:"",hostPosition:"",participants:""}],representativeOffCampusTeachingSeminars:[{time:"",place:"",content:"",organizer:"",participants:""}]},part3:{JiaoXueYanJiu:{JiaoGaiXiangMuHeJiaoYanLunWen:"",JiaoYanHuoDongHeTingPingKe:"",tables:[[],[],[],[]],dialogVisible:[!1,!1,!1,!1]}}}},watch:{teachingResearchID:function(e,t){this.teachingResearchID=e,this.getFormInfo()},value:function(e,t){var a=this;this.hasInit&&this.$nextTick((function(){return window.tinymce.get(a.tinymceId).setContent(e)}))}},methods:{importFromExcelFirst:function(){this.uploadExcelDialogFormVisibleFirst=!0},importFromExcelSecond:function(){this.uploadExcelDialogFormVisibleSecond=!0},exportExcelFirst:function(){function e(e,t){for(var a="",i=0;i<t.length;i++){for(var n=t[i],o=0;o<n.length;o++){var r=null===n[o]?"":n[o].toString();r=r.replace(/\t/gi," "),o>0&&(a+="\t"),a+=r}a+="\n"}var l,s=[];s.push(255,254);for(i=0;i<a.length;++i)l=a.charCodeAt(i),s.push(255&l),s.push(l/256>>>0);var c=new Blob([new Uint8Array(s)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(c,e);else{var u=document.createElement("a");if(void 0!==u.download){var m=window.URL.createObjectURL(c);u.setAttribute("href",m),u.setAttribute("download",e),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(m)}}}e("download.csv",[["教改项目名称","立项时间","项目来源","主持人","成员","获奖等次(特等奖,一等奖,二等奖,三等奖,优秀奖)"],["数学","2012年12月12","项目来源","倪大红","倪大红,倪大黑","特等奖"]])},exportExcelSecond:function(){function e(e,t){for(var a="",i=0;i<t.length;i++){for(var n=t[i],o=0;o<n.length;o++){var r=null===n[o]?"":n[o].toString();r=r.replace(/\t/gi," "),o>0&&(a+="\t"),a+=r}a+="\n"}var l,s=[];s.push(255,254);for(i=0;i<a.length;++i)l=a.charCodeAt(i),s.push(255&l),s.push(l/256>>>0);var c=new Blob([new Uint8Array(s)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(c,e);else{var u=document.createElement("a");if(void 0!==u.download){var m=window.URL.createObjectURL(c);u.setAttribute("href",m),u.setAttribute("download",e),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(m)}}}e("download.csv",[["教研论文名称","发表时间","期刊名称","第一作者"],["数学","2012年12月12","小明","小黑"]])},handleSuccessFirst:function(e){var t=e.results;e.header;this.$message({message:"导入成功！",type:"success"});for(var a=0;a<t.length;a++){var i={};i.nameOfEducationalReformProject=t[a].nameOfEducationalReformProject,i.timeOfProjectEstablishment=t[a].timeOfProjectEstablishment,i.projectSource=t[a].projectSource,i.host=t[a].host,i.members=t[a].members,i.awards=t[a].awards,this.form.educationalReformProjects.push(i),this.part3.JiaoXueYanJiu.tables[0].push(i)}this.uploadExcelDialogFormVisibleFirst=!1},handleSuccessSecond:function(e){var t=e.results;e.header;this.$message({message:"导入成功！",type:"success"});for(var a=0;a<t.length;a++){var i={};i.nameOfTeachingResearchPaper=t[a].nameOfTeachingResearchPaper,i.publishedTime=t[a].publishedTime,i.journalName=t[a].journalName,i.authorInChef=t[a].authorInChef,this.form.teachingResearchPapers.push(i),this.part3.JiaoXueYanJiu.tables[1].push(i)}this.uploadExcelDialogFormVisibleSecond=!1},handleClickAdd:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},this.editStatus=!1,y["default"].set(e,t,!0)},handleAdd:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t[i].push(this.tempData),a[i]=!1},handleSave:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y["default"].set(t[i],this.editIndex,this.tempData),a[i]=!1},handleCancel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},e[t]=!1},handleClickEdit:function(e,t,a){var i=e.dialogVisible,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=_.cloneDeep(t);this.tempData=o,this.editIndex=a,this.editStatus=!0,i[n]=!0},handleClickDelete:function(e,t){var a=e.tables,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a[i].splice(t,1)},createTeachingReseacherInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,ke(e.form).then((function(t){e.$emit("getTeachingResearchID",t.data.teachingResearchID)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},getHtml:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var a,i,n,o,r,l,s,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(e.form.educationalReformProjects=void 0,e.form.educationalReformProjects=new Array,a=0;a<e.part3.JiaoXueYanJiu.tables[0].length;a++)i={},i["nameOfEducationalReformProject"]=e.part3.JiaoXueYanJiu.tables[0][a].nameOfEducationalReformProject,i["timeOfProjectEstablishment"]=e.part3.JiaoXueYanJiu.tables[0][a].timeOfProjectEstablishment,i["projectSource"]=e.part3.JiaoXueYanJiu.tables[0][a].projectSource,i["host"]=e.part3.JiaoXueYanJiu.tables[0][a].host,i["members"]=e.part3.JiaoXueYanJiu.tables[0][a].members,i["awards"]=e.part3.JiaoXueYanJiu.tables[0][a].awards,e.form.educationalReformProjects[a]=i;for(e.form.teachingResearchPapers=void 0,e.form.teachingResearchPapers=new Array,n=0;n<e.part3.JiaoXueYanJiu.tables[1].length;n++)o={},o["nameOfTeachingResearchPaper"]=e.part3.JiaoXueYanJiu.tables[1][n].nameOfTeachingResearchPaper,o["publishedTime"]=e.part3.JiaoXueYanJiu.tables[1][n].publishedTime,o["journalName"]=e.part3.JiaoXueYanJiu.tables[1][n].journalName,o["authorInChef"]=e.part3.JiaoXueYanJiu.tables[1][n].authorInChef,e.form.teachingResearchPapers[n]=o;for(e.form.representativeTeachingAndResearchActivities=void 0,e.form.representativeTeachingAndResearchActivities=new Array,r=0;r<e.part3.JiaoXueYanJiu.tables[2].length;r++)l={},l["time"]=e.part3.JiaoXueYanJiu.tables[2][r].time,l["place"]=e.part3.JiaoXueYanJiu.tables[2][r].place,l["content"]=e.part3.JiaoXueYanJiu.tables[2][r].content,l["host"]=e.part3.JiaoXueYanJiu.tables[2][r].host,l["hostPosition"]=e.part3.JiaoXueYanJiu.tables[2][r].hostPosition,l["participants"]=e.part3.JiaoXueYanJiu.tables[2][r].participants,e.form.representativeTeachingAndResearchActivities[r]=l;for(e.form.representativeOffCampusTeachingSeminars=void 0,e.form.representativeOffCampusTeachingSeminars=new Array,s=0;s<e.part3.JiaoXueYanJiu.tables[3].length;s++)c={},c["time"]=e.part3.JiaoXueYanJiu.tables[3][s].timeYear,c["place"]=e.part3.JiaoXueYanJiu.tables[3][s].place,c["content"]=e.part3.JiaoXueYanJiu.tables[3][s].content,c["organizer"]=e.part3.JiaoXueYanJiu.tables[3][s].organizer,c["participants"]=e.part3.JiaoXueYanJiu.tables[3][s].participants,e.form.representativeOffCampusTeachingSeminars[s]=c;case 12:case"end":return t.stop()}}),t)})))()},getFormInfo:function(){var e=this;Object(Ie["a"])(this.teachingResearchID).then((function(t){var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i]);e.$refs.teaching.setContent(e.form.content.html);for(var n=0;n<e.form.educationalReformProjects.length;n++){var o={};o["nameOfEducationalReformProject"]=e.form.educationalReformProjects[n].nameOfEducationalReformProject,o["timeOfProjectEstablishment"]=e.form.educationalReformProjects[n].timeOfProjectEstablishment,o["projectSource"]=e.form.educationalReformProjects[n].projectSource,o["host"]=e.form.educationalReformProjects[n].host,o["members"]=e.form.educationalReformProjects[n].members,o["awards"]=e.form.educationalReformProjects[n].awards,y["default"].set(e.part3.JiaoXueYanJiu.tables[0],n,o)}for(var r=0;r<e.form.teachingResearchPapers.length;r++){var l={};l["nameOfTeachingResearchPaper"]=e.form.teachingResearchPapers[r].nameOfTeachingResearchPaper,l["publishedTime"]=e.form.teachingResearchPapers[r].publishedTime,l["journalName"]=e.form.teachingResearchPapers[r].journalName,l["authorInChef"]=e.form.teachingResearchPapers[r].authorInChef,y["default"].set(e.part3.JiaoXueYanJiu.tables[1],r,l)}for(var s=0;s<e.form.representativeTeachingAndResearchActivities.length;s++){var c={};c["time"]=e.form.representativeTeachingAndResearchActivities[s].time,c["place"]=e.form.representativeTeachingAndResearchActivities[s].place,c["content"]=e.form.representativeTeachingAndResearchActivities[s].content,c["host"]=e.form.representativeTeachingAndResearchActivities[s].host,c["hostPosition"]=e.form.representativeTeachingAndResearchActivities[s].hostPosition,c["participants"]=e.form.representativeTeachingAndResearchActivities[s].participants,y["default"].set(e.part3.JiaoXueYanJiu.tables[2],s,c)}for(var u=0;u<e.form.representativeOffCampusTeachingSeminars.length;u++){var m={};m["timeYear"]=e.form.representativeOffCampusTeachingSeminars[u].time,m["place"]=e.form.representativeOffCampusTeachingSeminars[u].place,m["content"]=e.form.representativeOffCampusTeachingSeminars[u].content,m["organizer"]=e.form.representativeOffCampusTeachingSeminars[u].organizer,m["participants"]=e.form.representativeOffCampusTeachingSeminars[u].participants,y["default"].set(e.part3.JiaoXueYanJiu.tables[3],u,m)}}))},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,we(e.teachingResearchID,e.form).then((function(e){})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},Oe=Se,Te=(a("4c42"),Object(p["a"])(Oe,xe,Ce,!1,null,"12bcc720",null)),Je=Te.exports,$e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",[a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("专业建设")])])]),a("Tinymce",{ref:"specialty",model:{value:e.form.content.html,callback:function(t){e.$set(e.form.content,"html",t)},expression:"form.content.html"}}),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"专业名称"}},[a("el-input",{model:{value:e.form.info.nameOfSpecialty,callback:function(t){e.$set(e.form.info,"nameOfSpecialty",t)},expression:"form.info.nameOfSpecialty"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"专业认证"}},[a("el-input",{model:{value:e.form.info.certificationOfSpecialty,callback:function(t){e.$set(e.form.info,"certificationOfSpecialty",t)},expression:"form.info.certificationOfSpecialty"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"专业评估"}},[a("el-input",{model:{value:e.form.info.evaluationOfSpecialty,callback:function(t){e.$set(e.form.info,"evaluationOfSpecialty",t)},expression:"form.info.evaluationOfSpecialty"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"获得特色、综合改革试点专业等称号"}},[a("el-input",{model:{value:e.form.info.features,callback:function(t){e.$set(e.form.info,"features",t)},expression:"form.info.features"}})],1)],1)],1)],1)},Re=[];function Pe(e){return Object(D["a"])({url:"/declaration-form/specialty-construction",method:"post",data:e})}function je(e,t){return Object(D["a"])({url:"/declaration-form/specialty-construction/"+e,method:"post",data:t})}var Ee=a("6b84"),Ae={props:{specialtyConstructionID:{type:String}},components:{Tinymce:V["a"]},data:function(){return{tempData:{},memberDialogFormVisible:!1,editStatus:!1,editIndex:-1,form:{info:{nameOfSpecialty:"",certificationOfSpecialty:"",evaluationOfSpecialty:"",features:""},content:{html:"<div style='font-family: 仿宋; font-size: 18pt''><b>（一）专业建设规划&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（二）人才培养方案修订落实&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（三）专业教学质量波准执行&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（四）专业认证和专业评估&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div>"}}}},watch:{specialtyConstructionID:function(e,t){this.getFormInfo()}},methods:{createSpecialtyConstructionInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,Pe(e.form).then((function(t){e.$emit("getSpecialtyConstructionID",t.data.specialtyConstructionID)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},getHtml:function(){},getFormInfo:function(){var e=this;Object(Ee["a"])(this.specialtyConstructionID).then((function(t){var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i]);e.$refs.specialty.setContent(e.form.content.html)}))},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,je(e.specialtyConstructionID,e.form).then((function(e){})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},Fe=Ae,_e=(a("fc0e"),Object(p["a"])(Fe,$e,Re,!1,null,"5498aee9",null)),ze=_e.exports,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{model:e.form}},[a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("实践教学")])])]),a("Tinymce",{ref:"practical",model:{value:e.form.content.html,callback:function(t){e.$set(e.form.content,"html",t)},expression:"form.content.html"}}),a("el-dialog",{attrs:{title:"从Excel中导入",visible:e.uploadExcelDialogFormVisible},on:{"update:visible":function(t){e.uploadExcelDialogFormVisible=t}}},[a("upload-excel",{attrs:{"on-success":e.handleSuccess,header:["nameOfSchoolPracticalUnit","area","numberOfPracticeTeachingInSchool","experimentalCourses","numberOfPracticeStudents"],attr:["校内实践(实验,实训)单位名称","使用面积","校内实践教学工位数","承接实践课程数","实践学生人数/学年"]}})],1),a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleClickAdd(e.part3.ShiJianJiaoXue.dialogVisible)}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add"},on:{click:e.importFromExcel}},[e._v("从Excel导入")]),a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出excel模板")])],1),a("el-table",{attrs:{data:e.part3.ShiJianJiaoXue.tables[0],"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"nameOfSchoolPracticalUnit",label:"校内实践(实验,实训)单位名称"}}),a("el-table-column",{attrs:{prop:"area",label:"使用面积"}}),a("el-table-column",{attrs:{prop:"numberOfPracticeTeachingInSchool",label:"校内实践教学工位数"}}),a("el-table-column",{attrs:{prop:"experimentalCourses",label:"承接实践课程"}}),a("el-table-column",{attrs:{prop:"numberOfPracticeStudents",label:"实践学生人数/学年"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{"margin-bottom":"1px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.handleClickEdit(e.part3.ShiJianJiaoXue,t.row,t.$index)}}})],1),a("el-row",{staticStyle:{"margin-top":"1px"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(a){return e.handleClickDelete(e.part3.ShiJianJiaoXue,t.$index)}}})],1)]}}])})],1)],1),a("el-dialog",{attrs:{title:"校内实践信息",visible:e.part3.ShiJianJiaoXue.dialogVisible[0]},on:{"update:visible":function(t){return e.$set(e.part3.ShiJianJiaoXue.dialogVisible,0,t)}}},[a("el-form",{attrs:{model:e.tempData}},[a("el-form-item",{attrs:{label:"校内实践(实验,实训)单位名称"}},[a("el-input",{model:{value:e.tempData.nameOfSchoolPracticalUnit,callback:function(t){e.$set(e.tempData,"nameOfSchoolPracticalUnit",t)},expression:"tempData.nameOfSchoolPracticalUnit"}})],1),a("el-form-item",{attrs:{label:"使用面积"}},[a("el-input",{model:{value:e.tempData.area,callback:function(t){e.$set(e.tempData,"area",t)},expression:"tempData.area"}})],1),a("el-form-item",{attrs:{label:"校内实践教学工位数"}},[a("el-input",{model:{value:e.tempData.numberOfPracticeTeachingInSchool,callback:function(t){e.$set(e.tempData,"numberOfPracticeTeachingInSchool",t)},expression:"tempData.numberOfPracticeTeachingInSchool"}})],1),a("el-form-item",{attrs:{label:"承接实践课程"}},[a("el-input",{model:{value:e.tempData.experimentalCourses,callback:function(t){e.$set(e.tempData,"experimentalCourses",t)},expression:"tempData.experimentalCourses"}})],1),a("el-form-item",{attrs:{label:"实践学生人数/学年"}},[a("el-input",{model:{value:e.tempData.numberOfPracticeStudents,callback:function(t){e.$set(e.tempData,"numberOfPracticeStudents",t)},expression:"tempData.numberOfPracticeStudents"}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.handleCancel(e.part3.ShiJianJiaoXue.dialogVisible)}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(e.part3.ShiJianJiaoXue)}}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(e.part3.ShiJianJiaoXue)}}},[e._v("添加")])],1)],1)],1)],1)},Ve=[];function Ne(e){return Object(D["a"])({url:"/declaration-form/practical-teaching",method:"post",data:e})}function Ye(e,t){return Object(D["a"])({url:"/declaration-form/practical-teaching/"+e,method:"post",data:t})}var Xe=a("2411"),Ue={props:{practicalTeachingID:{type:String}},components:{Tinymce:V["a"],UploadExcel:h},data:function(){return{uploadExcelDialogFormVisible:!1,tempData:{},memberDialogFormVisible:!1,editStatus:!1,editIndex:-1,form:{content:{html:"<div style='font-family: 仿宋; font-size: 18pt''><b>（一）实践教学&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（二）实验实训&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（三）基地建设&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（四）创新创业教育&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div>"},info:[{nameOfSchoolPracticalUnit:"",area:"",numberOfPracticeTeachingInSchool:"",experimentalCourses:"",numberOfPracticeStudents:""}]},part3:{ShiJianJiaoXue:{nameOfSchoolPracticalUnit:"",area:"",numberOfPracticeTeachingInSchool:"",experimentalCourses:"",numberOfPracticeStudents:"",tables:[[]],dialogVisible:[!1]}}}},watch:{practicalTeachingID:function(e,t){this.getFormInfo()}},methods:{importFromExcel:function(){this.uploadExcelDialogFormVisible=!0},exportExcel:function(){function e(e,t){for(var a="",i=0;i<t.length;i++){for(var n=t[i],o=0;o<n.length;o++){var r=null===n[o]?"":n[o].toString();r=r.replace(/\t/gi," "),o>0&&(a+="\t"),a+=r}a+="\n"}var l,s=[];s.push(255,254);for(i=0;i<a.length;++i)l=a.charCodeAt(i),s.push(255&l),s.push(l/256>>>0);var c=new Blob([new Uint8Array(s)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(c,e);else{var u=document.createElement("a");if(void 0!==u.download){var m=window.URL.createObjectURL(c);u.setAttribute("href",m),u.setAttribute("download",e),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(m)}}}e("download.csv",[["校内实践(实验,实训)单位名称","使用面积","校内实践教学工位数","承接实践课程数","实践学生人数/学年"],["四创实验室","200平方米","32","156","32"]])},handleSuccess:function(e){var t=e.results;e.header;this.$message({message:"导入成功！",type:"success"});for(var a=0;a<t.length;a++){var i={};i.nameOfSchoolPracticalUnit=t[a].nameOfSchoolPracticalUnit,i.area=t[a].area,i.numberOfPracticeTeachingInSchool=t[a].numberOfPracticeTeachingInSchool,i.experimentalCourses=t[a].experimentalCourses,i.numberOfPracticeStudents=t[a].numberOfPracticeStudents,this.form.info.push(i),this.part3.ShiJianJiaoXue.tables[0].push(i)}this.uploadExcelDialogFormVisible=!1},handleClickAdd:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},this.editStatus=!1,y["default"].set(e,t,!0)},handleAdd:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t[i].push(this.tempData),a[i]=!1},handleSave:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y["default"].set(t[i],this.editIndex,this.tempData),a[i]=!1},handleCancel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},e[t]=!1},handleClickEdit:function(e,t,a){var i=e.dialogVisible,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=_.cloneDeep(t);this.tempData=o,this.editIndex=a,this.editStatus=!0,i[n]=!0},handleClickDelete:function(e,t){var a=e.tables,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a[i].splice(t,1)},createPracticalTeachingInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,Ne(e.form).then((function(t){e.$emit("getPracticalTeachingID",t.data.practicalTeachingID)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},getHtml:function(){this.form.info=void 0,this.form.info=new Array;for(var e=0;e<this.part3.ShiJianJiaoXue.tables[0].length;e++){var t={};t["nameOfSchoolPracticalUnit"]=this.part3.ShiJianJiaoXue.tables[0][e].nameOfSchoolPracticalUnit,t["area"]=this.part3.ShiJianJiaoXue.tables[0][e].area,t["numberOfPracticeTeachingInSchool"]=this.part3.ShiJianJiaoXue.tables[0][e].numberOfPracticeTeachingInSchool,t["experimentalCourses"]=this.part3.ShiJianJiaoXue.tables[0][e].experimentalCourses,t["numberOfPracticeStudents"]=this.part3.ShiJianJiaoXue.tables[0][e].numberOfPracticeStudents,this.form.info[e]=t}},getFormInfo:function(){var e=this;Object(Xe["a"])(this.practicalTeachingID).then((function(t){var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i]);e.$refs.practical.setContent(e.form.content.html);for(var n=0;n<e.form.info.length;n++){var o={};o["nameOfSchoolPracticalUnit"]=e.form.info[n].nameOfSchoolPracticalUnit,o["area"]=e.form.info[n].area,o["numberOfPracticeTeachingInSchool"]=e.form.info[n].numberOfPracticeTeachingInSchool,o["experimentalCourses"]=e.form.info[n].experimentalCourses,o["numberOfPracticeStudents"]=e.form.info[n].numberOfPracticeStudents,y["default"].set(e.part3.ShiJianJiaoXue.tables[0],n,o)}}))},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,Ye(e.practicalTeachingID,e.form).then((function(e){})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},Ge=Ue,Le=(a("ff84"),Object(p["a"])(Ge,Me,Ve,!1,null,"9462aa24",null)),We=Le.exports,He=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",[a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("条件保障")])])]),a("Tinymce",{ref:"condition",model:{value:e.form.content.html,callback:function(t){e.$set(e.form.content,"html",t)},expression:"form.content.html"}}),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"教师人数"}},[a("el-input",{model:{value:e.form.info.numberOfTeacher,callback:function(t){e.$set(e.form.info,"numberOfTeacher",t)},expression:"form.info.numberOfTeacher"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"年度运行经费"}},[a("el-input",{model:{value:e.form.info.annualOperatingExpenses,callback:function(t){e.$set(e.form.info,"annualOperatingExpenses",t)},expression:"form.info.annualOperatingExpenses"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"行政办公面积"}},[a("el-input",{model:{value:e.form.info.administrativeOfficeSpace,callback:function(t){e.$set(e.form.info,"administrativeOfficeSpace",t)},expression:"form.info.administrativeOfficeSpace"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"教学资料档案室面积"}},[a("el-input",{model:{value:e.form.info.areaOfTeachingMaterialsArchives,callback:function(t){e.$set(e.form.info,"areaOfTeachingMaterialsArchives",t)},expression:"form.info.areaOfTeachingMaterialsArchives"}})],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"办公设施"}},[a("el-input",{model:{value:e.form.info.officeFacilities,callback:function(t){e.$set(e.form.info,"officeFacilities",t)},expression:"form.info.officeFacilities"}})],1)],1)],1)],1)},Be=[];function Ke(e){return Object(D["a"])({url:"/declaration-form/condition-guarantee",method:"post",data:e})}function Ze(e,t){return Object(D["a"])({url:"/declaration-form/condition-guarantee/"+e,method:"post",data:t})}var qe=a("9944"),Qe={props:{conditionGuaranteeID:{type:String}},components:{Tinymce:V["a"]},data:function(){return{form:{content:{html:"<div style='font-family: 仿宋; font-size: 18pt''><b>（一）专项经费&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（二）办公设施保障&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（三）办公面积&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（四）教学资料档案&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div>"},info:{numberOfTeacher:"",annualOperatingExpenses:"",administrativeOfficeSpace:"",areaOfTeachingMaterialsArchives:"",officeFacilities:""}}}},watch:{conditionGuaranteeID:function(e,t){this.getFormInfo()}},methods:{createConditionGuaranteeInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,Ke(e.form).then((function(t){e.$emit("getConditionGuaranteeID",t.data.conditionGuaranteeID)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},getHtml:function(){},getFormInfo:function(){var e=this;Object(qe["a"])(this.conditionGuaranteeID).then((function(t){var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i]);e.$refs.condition.setContent(e.form.content.html)}))},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,Ze(e.conditionGuaranteeID,e.form).then((function(e){})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},et=Qe,tt=(a("4d47"),Object(p["a"])(et,He,Be,!1,null,"61ec43d8",null)),at=tt.exports,it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{attrs:{model:e.form}},[a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("人才培养能力")])])]),a("Tinymce",{ref:"talent",model:{value:e.form.content.html,callback:function(t){e.$set(e.form.content,"html",t)},expression:"form.content.html"}}),a("el-dialog",{attrs:{title:"从Excel中导入",visible:e.uploadExcelDialogFormVisible},on:{"update:visible":function(t){e.uploadExcelDialogFormVisible=t}}},[a("upload-excel",{attrs:{"on-success":e.handleSuccess,header:["nameOfTeacher","nameOfTeachingContest","organizer","time","awards"],attr:["教师姓名","教学竞赛名称","组织单位","时间（年份）","获奖等次(一等奖,二等奖,三等奖,优秀奖)"]}})],1),a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleClickAdd(e.part3.RenCaiPeiYangNengLi.dialogVisible)}}},[e._v("添加")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-document-add"},on:{click:e.importFromExcel}},[e._v("从Excel导入")]),a("el-button",{attrs:{type:"primary"},on:{click:e.exportExcel}},[e._v("导出excel模板")])],1),a("el-table",{attrs:{data:e.part3.RenCaiPeiYangNengLi.tables[0],"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"nameOfTeacher",label:"教师姓名"}}),a("el-table-column",{attrs:{prop:"nameOfTeachingContest",label:"教学竞赛名称"}}),a("el-table-column",{attrs:{prop:"organizer",label:"组织单位"}}),a("el-table-column",{attrs:{prop:"time",label:"时间/年月"}}),a("el-table-column",{attrs:{prop:"awards",label:"获奖等次"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{"margin-bottom":"1px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.handleClickEdit(e.part3.RenCaiPeiYangNengLi,t.row,t.$index)}}})],1),a("el-row",{staticStyle:{"margin-top":"1px"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(a){return e.handleClickDelete(e.part3.RenCaiPeiYangNengLi,t.$index)}}})],1)]}}])})],1),a("div",{staticClass:"form-subtitle"},[e._v("每类5项代表性成果")]),a("el-form-item",{staticClass:"label-style",attrs:{label:"学科竞赛"}},[a("div",{staticClass:"table-action-bar"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.subjectCompetitionClickAdd}},[e._v("添加")])],1),a("el-table",{attrs:{data:e.form.outcome.subjectCompetition,"empty-text":"暂无数据"}},[a("el-table-column",{attrs:{prop:"year",label:"年度"}}),a("el-table-column",{attrs:{prop:"awardName",label:"奖项名称"}}),a("el-table-column",{attrs:{prop:"awardWinningWork",label:"获奖作品"}}),a("el-table-column",{attrs:{prop:"level",label:"获奖等级"}}),a("el-table-column",{attrs:{prop:"nameOfWinner",label:"获奖人姓名"}}),a("el-table-column",{attrs:{prop:"nameOfTeacher",label:"指导老师姓名"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-row",{staticStyle:{"margin-bottom":"1px"}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){return e.subjectCompetitionEdit(t.row,t.$index)}}})],1),a("el-row",{staticStyle:{"margin-top":"1px"}},[a("el-button",{attrs:{icon:"el-icon-delete",type:"danger",size:"small"},on:{click:function(a){return e.subjectCompetitionDelete(t.$index)}}})],1)]}}])})],1)],1),a("el-form-item",{attrs:{label:"职业技能大赛"}},[a("el-input",{model:{value:e.form.outcome.professionalSkillsCompetition,callback:function(t){e.$set(e.form.outcome,"professionalSkillsCompetition",t)},expression:"form.outcome.professionalSkillsCompetition"}})],1),a("el-form-item",{attrs:{label:"互联网+创业大赛"}},[a("el-input",{model:{value:e.form.outcome.internetPlusEntrepreneurshipContest,callback:function(t){e.$set(e.form.outcome,"internetPlusEntrepreneurshipContest",t)},expression:"form.outcome.internetPlusEntrepreneurshipContest"}})],1),a("el-form-item",{attrs:{label:"创新创业情况"}},[a("el-input",{model:{value:e.form.outcome.innovationAndEntrepreneurship,callback:function(t){e.$set(e.form.outcome,"innovationAndEntrepreneurship",t)},expression:"form.outcome.innovationAndEntrepreneurship"}})],1),a("el-form-item",{attrs:{label:"发表论文"}},[a("el-input",{model:{value:e.form.outcome.publishTheses,callback:function(t){e.$set(e.form.outcome,"publishTheses",t)},expression:"form.outcome.publishTheses"}})],1)],1),a("el-dialog",{attrs:{title:"学科竞赛信息",visible:e.subjectCompetition.dialogVisible},on:{"update:visible":function(t){return e.$set(e.subjectCompetition,"dialogVisible",t)}}},[a("el-form",{attrs:{model:e.tempData}},[a("el-form-item",{attrs:{label:"年度"}},[a("el-input",{model:{value:e.tempData.year,callback:function(t){e.$set(e.tempData,"year",t)},expression:"tempData.year"}})],1),a("el-form-item",{attrs:{label:"奖项名称"}},[a("el-input",{model:{value:e.tempData.awardName,callback:function(t){e.$set(e.tempData,"awardName",t)},expression:"tempData.awardName"}})],1),a("el-form-item",{attrs:{label:"获奖作品"}},[a("el-input",{model:{value:e.tempData.awardWinningWork,callback:function(t){e.$set(e.tempData,"awardWinningWork",t)},expression:"tempData.awardWinningWork"}})],1),a("el-form-item",{attrs:{label:"获奖等级"}},[a("el-input",{model:{value:e.tempData.level,callback:function(t){e.$set(e.tempData,"level",t)},expression:"tempData.level"}})],1),a("el-form-item",{attrs:{label:"获奖人姓名"}},[a("el-input",{model:{value:e.tempData.nameOfWinner,callback:function(t){e.$set(e.tempData,"nameOfWinner",t)},expression:"tempData.nameOfWinner"}})],1),a("el-form-item",{attrs:{label:"指导老师姓名"}},[a("el-input",{model:{value:e.tempData.nameOfTeacher,callback:function(t){e.$set(e.tempData,"nameOfTeacher",t)},expression:"tempData.nameOfTeacher"}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.subjectCompetitionCancel()}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.subjectCompetitionSave()}}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.subjectCompetitionAdd()}}},[e._v("添加")])],1)],1)],1),a("el-dialog",{attrs:{title:"教学竞赛信息",visible:e.part3.RenCaiPeiYangNengLi.dialogVisible[0]},on:{"update:visible":function(t){return e.$set(e.part3.RenCaiPeiYangNengLi.dialogVisible,0,t)}}},[a("el-form",{attrs:{model:e.tempData}},[a("el-form-item",{attrs:{label:"教师姓名"}},[a("el-input",{model:{value:e.tempData.nameOfTeacher,callback:function(t){e.$set(e.tempData,"nameOfTeacher",t)},expression:"tempData.nameOfTeacher"}})],1),a("el-form-item",{attrs:{label:"教学竞赛名称"}},[a("el-input",{model:{value:e.tempData.nameOfTeachingContest,callback:function(t){e.$set(e.tempData,"nameOfTeachingContest",t)},expression:"tempData.nameOfTeachingContest"}})],1),a("el-form-item",{attrs:{label:"组织单位"}},[a("el-input",{model:{value:e.tempData.organizer,callback:function(t){e.$set(e.tempData,"organizer",t)},expression:"tempData.organizer"}})],1),a("el-form-item",{attrs:{label:"时间"}},[a("el-input",{model:{value:e.tempData.time,callback:function(t){e.$set(e.tempData,"time",t)},expression:"tempData.time"}})],1),a("el-form-item",{attrs:{label:"获奖等次(一等奖,二等奖,三等奖,优秀奖)"}},[a("el-input",{model:{value:e.tempData.awards,callback:function(t){e.$set(e.tempData,"awards",t)},expression:"tempData.awards"}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{on:{click:function(t){return e.handleCancel(e.part3.RenCaiPeiYangNengLi.dialogVisible)}}},[e._v("取消")]),e.editStatus?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSave(e.part3.RenCaiPeiYangNengLi)}}},[e._v("保存")]):a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.handleAdd(e.part3.RenCaiPeiYangNengLi)}}},[e._v("添加")])],1)],1)],1)],1)},nt=[];function ot(e){return Object(D["a"])({url:"/declaration-form/talent-cultivation-ability",method:"post",data:e})}function rt(e,t){return Object(D["a"])({url:"/declaration-form/talent-cultivation-ability/"+e,method:"post",data:t})}var lt=a("3ec1"),st=a("2ef0"),ct=a.n(st),ut={props:{talentCultivationAbilityID:{type:String}},components:{Tinymce:V["a"],UploadExcel:h},data:function(){return{subjectCompetition:{dialogVisible:!1},uploadExcelDialogFormVisible:!1,tempData:{},memberDialogFormVisible:!1,editStatus:!1,editIndex:-1,form:{content:{html:"<div style='font-family: 仿宋; font-size: 18pt''><b>（一）教师教学比赛和教师评教&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（二）学生创新创业&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（三）毕业生就业率和就业质量&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div>"},info:[{nameOfTeacher:"",nameOfTeachingContest:"",organizer:"",time:"",awards:""}],outcome:{subjectCompetition:[],professionalSkillsCompetition:"",internetPlusEntrepreneurshipContest:"",innovationAndEntrepreneurship:"",publishTheses:""}},part3:{RenCaiPeiYangNengLi:{tables:[[]],dialogVisible:[!1]}}}},watch:{talentCultivationAbilityID:function(e,t){this.getFormInfo()}},methods:{importFromExcel:function(){this.uploadExcelDialogFormVisible=!0},exportExcel:function(){function e(e,t){for(var a="",i=0;i<t.length;i++){for(var n=t[i],o=0;o<n.length;o++){var r=null===n[o]?"":n[o].toString();r=r.replace(/\t/gi," "),o>0&&(a+="\t"),a+=r}a+="\n"}var l,s=[];s.push(255,254);for(i=0;i<a.length;++i)l=a.charCodeAt(i),s.push(255&l),s.push(l/256>>>0);var c=new Blob([new Uint8Array(s)],{type:"text/csv;charset=UTF-16LE;"});if(navigator.msSaveBlob)navigator.msSaveBlob(c,e);else{var u=document.createElement("a");if(void 0!==u.download){var m=window.URL.createObjectURL(c);u.setAttribute("href",m),u.setAttribute("download",e),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u),window.URL.revokeObjectURL(m)}}}e("download.csv",[["教师姓名","教学竞赛名称","组织单位","时间（年份）","获奖等次(一等奖,二等奖,三等奖,优秀奖)"],["无名氏","蓝桥杯","河南大学软件学院","2012","一等奖"]])},handleSuccess:function(e){var t=e.results;e.header;this.$message({message:"导入成功！",type:"success"});for(var a=0;a<t.length;a++){var i={};i.nameOfTeacher=t[a].nameOfTeacher,i.nameOfTeachingContest=t[a].nameOfTeachingContest,i.organizer=t[a].organizer,i.time=t[a].time,i.awards=t[a].awards,this.form.info.push(i),this.part3.RenCaiPeiYangNengLi.tables[0].push(i)}this.uploadExcelDialogFormVisible=!1},handleClickAdd:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},this.editStatus=!1,y["default"].set(e,t,!0)},handleAdd:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t[i].push(this.tempData),a[i]=!1},handleSave:function(e){var t=e.tables,a=e.dialogVisible,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y["default"].set(t[i],this.editIndex,this.tempData),a[i]=!1},handleCancel:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.tempData={},e[t]=!1},handleClickEdit:function(e,t,a){var i=e.dialogVisible,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=ct.a.cloneDeep(t);this.tempData=o,this.editIndex=a,this.editStatus=!0,i[n]=!0},handleClickDelete:function(e,t){var a=e.tables,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;a[i].splice(t,1)},subjectCompetitionClickAdd:function(){this.subjectCompetition.dialogVisible=!0},subjectCompetitionCancel:function(){this.tempData={},this.editStatus=!1,this.subjectCompetition.dialogVisible=!1},subjectCompetitionAdd:function(){this.form.outcome.subjectCompetition.push(this.tempData),this.tempData={},this.subjectCompetition.dialogVisible=!1},subjectCompetitionSave:function(){y["default"].set(this.form.outcome.subjectCompetition,this.editIndex,this.tempData),this.subjectCompetition.dialogVisible=!1,this.editStatus=!1},subjectCompetitionEdit:function(e,t){var a=ct.a.cloneDeep(e);this.tempData=a,this.editIndex=t,this.editStatus=!0,this.subjectCompetition.dialogVisible=!0},subjectCompetitionDelete:function(e){this.form.outcome.subjectCompetition.splice(e,1)},createTalentInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,ot(e.form).then((function(t){console.log(e.form),e.$emit("getTalentCultivationAbilityID",t.data.talentCultivationAbilityID)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},getHtml:function(){this.form.info=void 0,this.form.info=new Array;for(var e=0;e<this.part3.RenCaiPeiYangNengLi.tables[0].length;e++){var t={};t["nameOfTeacher"]=this.part3.RenCaiPeiYangNengLi.tables[0][e].nameOfTeacher,t["nameOfTeachingContest"]=this.part3.RenCaiPeiYangNengLi.tables[0][e].nameOfTeachingContest,t["organizer"]=this.part3.RenCaiPeiYangNengLi.tables[0][e].organizer,t["time"]=this.part3.RenCaiPeiYangNengLi.tables[0][e].time,t["awards"]=this.part3.RenCaiPeiYangNengLi.tables[0][e].awards,this.form.info[e]=t}},getFormInfo:function(){var e=this;Object(lt["a"])(this.talentCultivationAbilityID).then((function(t){var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i]);e.$refs.talent.setContent(e.form.content.html);for(var n=0;n<e.form.info.length;n++){var o={};o["nameOfTeacher"]=e.form.info[n].nameOfTeacher,o["nameOfTeachingContest"]=e.form.info[n].nameOfTeachingContest,o["organizer"]=e.form.info[n].organizer,o["time"]=e.form.info[n].time,o["awards"]=e.form.info[n].awards,y["default"].set(e.part3.RenCaiPeiYangNengLi.tables[0],n,o)}}))},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,rt(e.talentCultivationAbilityID,e.form).then((function(e){})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},mt=ut,ft=(a("9eb4"),Object(p["a"])(mt,it,nt,!1,null,"6f04e1dc",null)),pt=ft.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",[a("el-row",[a("div",{staticClass:"form-subtitle"},[a("span",[e._v("今后建设计划")])])]),a("Tinymce",{ref:"future",model:{value:e.form.content.html,callback:function(t){e.$set(e.form.content,"html",t)},expression:"form.content.html"}})],1)},ht=[];function bt(e){return Object(D["a"])({url:"/declaration-form/future-construction-plan",method:"post",data:e})}function vt(e,t){return Object(D["a"])({url:"/declaration-form/future-construction-plan/"+e,method:"post",data:t})}var gt=a("537c"),yt={props:{futureConstructionPlanID:{type:String}},components:{Tinymce:V["a"]},data:function(){return{form:{content:{html:"<div style='font-family: 仿宋; font-size: 18pt''><b>（一）指导思路&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（二）基本思路&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（三）建设目标&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div><div style='font-family: 仿宋; font-size: 18pt''><b>（四）专业建设内容&nbsp;</b></div><div style='font-family: 仿宋; font-size: 12pt''></div>"}}}},watch:{futureConstructionPlanID:function(e,t){this.getFormInfo()}},methods:{createFutureInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,bt(e.form).then((function(t){e.$emit("getFutureConstructionPlanID",t.data.futureConstructionPlanID)})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()},getHtml:function(){},getFormInfo:function(){var e=this;Object(gt["a"])(this.futureConstructionPlanID).then((function(t){var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i]);e.$refs.future.setContent(e.form.content.html)}))},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.getHtml(),t.next=3,vt(e.futureConstructionPlanID,e.form).then((function(e){})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)})))()}}},Dt=yt,xt=(a("86ec"),Object(p["a"])(Dt,dt,ht,!1,null,"ed8e4840",null)),Ct=xt.exports,kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("Tinymce",{ref:"opinion",model:{value:e.form.content.html,callback:function(t){e.$set(e.form.content,"html",t)},expression:"form.content.html"}})],1)},wt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-subtitle"},[a("span",[e._v("审核意见反馈")])])}],It=a("fdc2"),St={props:{opinionFeedbackID:{type:String}},components:{Tinymce:V["a"]},data:function(){return{form:{content:{html:""}}}},watch:{opinionFeedbackID:function(e,t){this.getInfo()}},methods:{getInfo:function(){Object(It["a"])(this.opinionFeedbackID).then((function(e){}))}}},Ot=St,Tt=(a("e8c0"),Object(p["a"])(Ot,kt,wt,!1,null,null,null)),Jt=Tt.exports;function $t(e){return Object(D["a"])({url:"/declaration-form/total",method:"post",data:e})}function Rt(e,t){return Object(D["a"])({url:"/declaration-form/total/"+t,method:"post",data:e})}function Pt(e){return Object(D["a"])({url:"/declaration-form/opinion-feedback",method:"post",data:e})}var jt=a("831c"),Et=a("9695"),At=a("4360"),Ft={components:{UploadExcel:h,SvgIcon:b["a"],Principal:O,Members:F,Rules:W,Team:ae,Organization:me,CourseMaterial:De,TeachingResearch:Je,SpecialtyConstruction:ze,PracticalTeaching:We,ConditionGuarantee:at,TalentCultivationAbility:pt,FutureConstructionPlan:Ct,opinionFeedBack:Jt},data:function(){return{updateHidden:"none",buttenHidden:"",active:0,form:{info:{formID:"",userNumber:At["a"].getters.userNumber,organization:"",college:"",principal:"",professionalTitle:"",status:"等待审核",reviewer:"",totalScore:"",userNumberOfMarker:"",userNumberOfReviewer:""},principalID:"",membersID:"",ruleAndRegulationID:"",teamBuildingID:"",teachingOrganizationID:"",courseMaterialID:"",teachingResearchID:"",specialtyConstructionID:"",practicalTeachingID:"",conditionGuaranteeID:"",talentCultivationAbilityID:"",futureConstructionPlanID:"",opinionFeedbackID:""},formID:"",opinionFeedback:{content:{html:"<p><p>"}}}},created:function(){this.$route.query.formID&&(this.updateHidden="",this.buttenHidden="none",this.getFormInfo()),this.form.info.college=At["a"].getters.college,console.log(this.form.info.userNumber)},methods:{backToTop:function(){var e=setInterval((function(){var t=document.documentElement.scrollTop||document.body.scrollTop,a=Math.floor(-t/2);document.documentElement.scrollTop=document.body.scrollTop=t+a,this.isTop=!0,0===t&&clearInterval(e)}),30)},handleStep:function(e){this.active=e},nextPage:function(){this.backToTop(),this.active++},prePage:function(){this.backToTop(),this.active--,this.active<=0&&(this.active=0)},handleSubmit:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.principal.createPrincipalInfo();case 2:return t.next=4,e.$refs.members.createMembersInfo();case 4:return t.next=6,e.$refs.rules.createRulesInfo();case 6:return t.next=8,e.$refs.teambuilding.createTeamInfo();case 8:return t.next=10,e.$refs.organization.createOrganizationInfo();case 10:return t.next=12,e.$refs.coursematerial.createCourseMaterialInfo();case 12:return t.next=14,e.$refs.teachingresearch.createTeachingReseacherInfo();case 14:return t.next=16,e.$refs.specialtyconstruction.createSpecialtyConstructionInfo();case 16:return t.next=18,e.$refs.practicalteaching.createPracticalTeachingInfo();case 18:return t.next=20,e.$refs.conditionguarantee.createConditionGuaranteeInfo();case 20:return t.next=22,e.$refs.talentcultivationability.createTalentInfo();case 22:return t.next=24,e.$refs.futureconstructionplan.createFutureInfo();case 24:return t.next=26,e.createOpinionFeedbackInfo();case 26:return t.next=28,e.createFormInfo();case 28:e.nextPage();case 29:case"end":return t.stop()}}),t)})))()},getPrincipalID:function(e){this.form.principalID=e},getMembersID:function(e){this.form.membersID=e},getRulesID:function(e){this.form.ruleAndRegulationID=e},getTeamBuildingID:function(e){this.form.teamBuildingID=e},getOrganizationID:function(e){this.form.teachingOrganizationID=e},getCourseMaterialID:function(e){this.form.courseMaterialID=e},getTeachingResearchID:function(e){this.form.teachingResearchID=e},getSpecialtyConstructionID:function(e){this.form.specialtyConstructionID=e},getPracticalTeachingID:function(e){this.form.practicalTeachingID=e},getConditionGuaranteeID:function(e){this.form.conditionGuaranteeID=e},getTalentCultivationAbilityID:function(e){this.form.talentCultivationAbilityID=e},getFutureConstructionPlanID:function(e){this.form.futureConstructionPlanID=e},createOpinionFeedbackInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Pt(e.opinionFeedback).then((function(t){e.form.opinionFeedbackID=t.data.opinionFeedbackID})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},createFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$t(e.form).then((function(t){console.log(t.data.formID),e.form.info.formID=t.data.formID,e.updateApprovalPageInfo()})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},updateApprovalPageInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(jt["c"])(e.form.info).then((function(t){console.log(e.form.info)})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()},getFormInfo:function(){var e=this;Object(Et["a"])(this.$route.query.formID).then((function(t){console.log(t.data);var a=t.data;for(var i in a)"function"!==typeof a[i]&&(e.form[i]=a[i]);0!==Object.keys(e.form.info.userNumberOfMarker).length?(console.log(e.form.userNumberOfMarker),e.form.info.status="评定结束"):e.form.info.status="等待审核"})).catch((function(e){console.log(e)}))},handleUpdate:function(){this.$refs.principal.updateFormInfo(),this.$refs.members.updateFormInfo(),this.$refs.rules.updateFormInfo(),this.$refs.teambuilding.updateFormInfo(),this.$refs.organization.updateFormInfo(),this.$refs.coursematerial.updateFormInfo(),this.$refs.teachingresearch.updateFormInfo(),this.$refs.specialtyconstruction.updateFormInfo(),this.$refs.practicalteaching.updateFormInfo(),this.$refs.conditionguarantee.updateFormInfo(),this.$refs.talentcultivationability.updateFormInfo(),this.$refs.futureconstructionplan.updateFormInfo(),this.updateFormInfo(),this.nextPage()},updateFormInfo:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Rt(e.form,e.$route.query.formID).then((function(e){})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()}}},_t=Ft,zt=(a("3a0a"),Object(p["a"])(_t,n,o,!1,null,null,null));t["default"]=zt.exports},3:function(e,t){},"31f1":function(e,t,a){"use strict";a("e998")},"3a0a":function(e,t,a){"use strict";a("05d9")},4149:function(e,t,a){},"4c42":function(e,t,a){"use strict";a("1b64")},"4d47":function(e,t,a){"use strict";a("7bdd")},"5acc":function(e,t,a){},"5ee2":function(e,t,a){},6333:function(e,t,a){},"639b":function(e,t,a){},"70d6":function(e,t,a){},"7bdd":function(e,t,a){},"831c":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return r}));var i=a("b775");function n(){return Object(i["a"])({url:"/approval-page",method:"get"})}function o(e){return Object(i["a"])({url:"/approval-page",method:"post",data:e})}function r(e){return Object(i["a"])({url:"/approval-page",method:"delete",data:e})}},"84bb":function(e,t,a){"use strict";a("639b")},"86ec":function(e,t,a){"use strict";a("6333")},"9eb4":function(e,t,a){"use strict";a("dd1e")},a37a:function(e,t,a){},c710:function(e,t,a){"use strict";a("70d6")},d4b4:function(e,t,a){"use strict";a("0eea")},dc08:function(e,t,a){"use strict";a("5ee2")},dd1e:function(e,t,a){},e8c0:function(e,t,a){"use strict";a("0d69")},e998:function(e,t,a){},fc0e:function(e,t,a){"use strict";a("4149")},fc60:function(e,t,a){"use strict";a("2b7a")},ff84:function(e,t,a){"use strict";a("5acc")}}]);