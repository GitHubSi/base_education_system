(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-67c933a4"],{5484:function(t,e,l){},"842c":function(t,e,l){"use strict";l("5484")},cd6b:function(t,e,l){"use strict";l.r(e);var o=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"app-container"},[l("el-card",[l("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[l("span",[t._v("审核表的分配")])]),l("el-card",[l("div",{attrs:{slot:"header"},slot:"header"}),l("div",[t._v("待分配信息表")]),l("el-table",{attrs:{data:t.unDispatchFormList,"empty-text":"暂无数据"},on:{"selection-change":t.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection"}}),l("el-table-column",{attrs:{prop:"info.organization",label:"组织名称"}}),l("el-table-column",{attrs:{prop:"info.college",label:"所属学院"}}),l("el-table-column",{attrs:{prop:"info.principal",label:"负责人"}}),l("el-table-column",{attrs:{prop:"info.status",label:"审核状态"}}),l("el-table-column",{attrs:{prop:"info.reviewer",label:"审核人"}}),l("el-table-column",{attrs:{prop:"info.userNumberOfMarker",label:"评审专家学工号"}}),l("el-table-column",{attrs:{prop:"info.totalScore",label:"评审总分数"}})],1)],1)],1),l("el-card",[l("div",{staticClass:"myDiv"},[l("el-button",{on:{click:function(e){return t.dispatchForm()}}},[t._v("分配")]),l("el-select",{attrs:{placeholder:"请选择评审专家"},model:{value:t.selectUserNumber,callback:function(e){t.selectUserNumber=e},expression:"selectUserNumber"}},t._l(t.userList,(function(t,e){return l("el-option",{key:e,attrs:{label:t.username,value:t.userNumber}})})),1)],1)]),l("el-card",[l("div",{attrs:{slot:"header"},slot:"header"}),l("div",[t._v("已分配的信息表")]),l("el-table",{attrs:{data:t.dispatchFormList,"empty-text":"暂无数据"},on:{"selection-change":t.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection"}}),l("el-table-column",{attrs:{prop:"info.organization",label:"组织名称"}}),l("el-table-column",{attrs:{prop:"info.college",label:"所属学院"}}),l("el-table-column",{attrs:{prop:"info.principal",label:"负责人"}}),l("el-table-column",{attrs:{prop:"info.status",label:"审核状态"}}),l("el-table-column",{attrs:{prop:"info.reviewer",label:"审核人"}}),l("el-table-column",{attrs:{prop:"info.userNumberOfMarker",label:"评审专家学工号"}}),l("el-table-column",{attrs:{prop:"info.totalScore",label:"评审总分数"}})],1)],1)],1)},n=[],r=l("1da1"),a=(l("b64b"),l("96cf"),l("b775"));function s(){return Object(a["a"])({url:"/dispatch-form/all",method:"get"})}function i(){return Object(a["a"])({url:"/dispatch-form/undispatch",method:"get"})}function c(t,e){return Object(a["a"])({url:"/dispatch-form/"+t,method:"post",data:e})}function u(){return Object(a["a"])({url:"/dispatch-form/users",method:"get"})}l("4360");var p={data:function(){return{form:[],userList:[],selectUserNumber:null,multipleSelection:[],unDispatchFormList:[],dispatchFormList:[]}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getInfo(),t.getUserList();case 2:case"end":return e.stop()}}),e)})))()},methods:{getInfo:function(){var t=this;s().then((function(e){t.form=e.data,console.log(t.form),t.splitForm()})).catch((function(t){console.log(t)}))},getUndispatchFormInfo:function(){var t=this;i().then((function(e){console.log(e),t.form=e.data})).catch((function(t){console.log(t)}))},getUserList:function(){var t=this;u().then((function(e){console.log(e),t.userList=e.data})).catch((function(t){console.log(t)}))},dispatchForm:function(){var t=this;0!=this.multipleSelection.length&&null!=this.selectUserNumber&&c(this.selectUserNumber,this.multipleSelection).then((function(e){console.log(e),t.getInfo(),window.alert("分配成功！")})).catch((function(t){console.log(t)}))},handleSelectionChange:function(t){this.multipleSelection=t,console.log(this.multipleSelection)},splitForm:function(){this.unDispatchFormList=[],this.dispatchFormList=[];for(var t=0;t<this.form.length;t++)null==this.form[t].info.userNumberOfMarker||0===Object.keys(this.form[t].info.userNumberOfMarker).length?this.unDispatchFormList.push(this.form[t]):this.dispatchFormList.push(this.form[t])}}},h=p,m=(l("842c"),l("2877")),f=Object(m["a"])(h,o,n,!1,null,"340e9f13",null);e["default"]=f.exports}}]);