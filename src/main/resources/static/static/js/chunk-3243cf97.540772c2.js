(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3243cf97"],{"22e1":function(e,t,o){"use strict";o("f7f2")},9406:function(e,t,o){"use strict";o.r(t);var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"app-container"},[o("el-card",[o("div",{staticClass:"welcome-info-content"},[e._v(" "+e._s(e.welcomeText)+e._s(e.name)+" "),o("div",{staticClass:"welcome-info-subtext"},[e._v(" 学年："+e._s(e.curStudyYear)+" | 角色："+e._s(e.role)+" | 院系："+e._s(e.college)+" ")])])]),o("el-card",[o("div",{staticClass:"notice-container"},["系统管理员"===e.role?o("el-card",[o("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("待办事项")])])]):e._e(),"院级管理员"===e.role||"校级管理员"===e.role?o("el-card",[o("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("修改请求")])]),null!==this.form.toDoList?o("div",e._l(this.form.toDoList.toDoItems,(function(t,s,i){return o("div",{key:i,staticClass:"notice-item",on:{click:function(o){return e.toDoItemInfo(t)}}},[o("div",[o("el-card",[o("span",{staticClass:"notice-item__title"},[e._v(" "+e._s(s+1)+" 、"),o("el-tag",{attrs:{type:"info"}},[e._v(" 内容："+e._s(t.title))]),e._v(" 申请时间:"+e._s(t.createTime)+" "),o("el-tag",{attrs:{type:"success"}},[e._v(" 点击进入详情页修改状态")])],1)])],1)])})),0):e._e()]):e._e(),"基层教学组织管理员"===e.role?o("el-card",[o("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("返回待修改的备案表")])]),o("div",[o("span",{staticClass:"notice-item__title"},[e._v(" 待修改的备案表："+e._s(e.numbersOfInfo.numbersOfNeedEdit)+" ")])])]):e._e(),"院级管理员"===e.role||"校级管理员"===e.role?o("el-card",[o("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("等待审核")])]),o("div",[o("span",{staticClass:"notice-item__title"},[e._v(" 等待审核的备案表："+e._s(e.numbersOfInfo.numbersOfPriview)+" ")])])]):e._e(),"校级管理员"===e.role?o("el-card",[o("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("等待分配")])]),o("div",[o("span",{staticClass:"notice-item__title"},[e._v(" 等待分配的备案表："+e._s(e.numbersOfInfo.numbersOfDispatch)+" ")])])]):e._e(),"评审专家"==e.role?o("el-card",[o("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[o("span",[e._v("等待评阅")])]),o("div",[o("span",{staticClass:"notice-item__title"},[e._v(" 等待评阅的备案表："+e._s(e.numbersOfInfo.numbersOfMarker)+" ")])])]):e._e()],1)]),o("el-dialog",{attrs:{visible:e.dialogVisible,title:"待办项"},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("el-form",[o("el-form-item",{attrs:{label:"待办事项"}},[e._v(e._s(e.item.title))]),o("el-form-item",{attrs:{label:"申请时间"}},[e._v(e._s(e.item.createTime))]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.goToDetailPage(e.item.formID,e.item,e.userNumber)}}},[e._v("去详情页修改状态")]),o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.goToDeleteItem(e.item,e.userNumber)}}},[e._v("已处理")])],1)],1)],1)},i=[],r=o("5530"),a=o("cba3"),n=o("2f62"),c=o("4360"),l={name:"Dashboard",data:function(){return{welcomeText:"",curStudyYear:"2020-2021",form:{toDoList:{userNumber:"",toDoItems:[{title:"",formID:"",createTime:""}]}},item:{title:"",formID:"",createTime:""},userNumber:"",dialogVisible:!1,numbersOfInfo:{numbersOfPriview:0,numbersOfMarker:0,numbersOfDispatch:0,numbersOfNeedEdit:0}}},computed:Object(r["a"])({},Object(n["b"])(["name","role","college"])),created:function(){this.caclCurTime(),this.getToDoItemList()},methods:{getToDoItemList:function(){var e=this;Object(a["d"])(c["a"].getters.userNumber).then((function(t){e.numbersOfInfo=t.data})).catch((function(e){console.log(e)})),Object(a["c"])(c["a"].getters.userNumber).then((function(t){e.form.toDoList=t.data,console.log(e.form.toDoList)})).catch((function(e){console.log(e)}))},toDoItemInfo:function(e){this.item=e,this.userNumber=c["a"].getters.userNumber,this.dialogVisible=!0},goToDetailPage:function(e,t,o){this.$router.push({path:"/detail-page/detail-page",query:{formID:e,item:t,userNumber:o}})},goToDeleteItem:function(e,t){var o=this;this.$confirm("此操作将删除该待办项, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(a["b"])(e,t).then((function(e){o.dialogVisible=!1,o.getToDoItemList(),console.log(e)})).catch((function(e){console.log(e)}))}))},caclCurTime:function(){var e=(new Date).getHours();e>5&&e<11?this.welcomeText="早上好！":e>10&&e<14?this.welcomeText="中午好！":e>13&&e<19?this.welcomeText="下午好！":(e>18||e<6)&&(this.welcomeText="晚上好！")}}},u=l,d=(o("22e1"),o("2877")),m=Object(d["a"])(u,s,i,!1,null,"5ef45227",null);t["default"]=m.exports},cba3:function(e,t,o){"use strict";o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return a})),o.d(t,"d",(function(){return n}));var s=o("b775");function i(e){return Object(s["a"])({url:"/to-do/get-info/"+e,method:"get"})}function r(e,t){return Object(s["a"])({url:"/to-do/save-info/"+t,method:"post",data:e})}function a(e,t){return Object(s["a"])({url:"/to-do/delete-info/"+t,method:"delete",data:e})}function n(e){return Object(s["a"])({url:"/to-do/get-numbers-info/"+e,method:"get"})}},f7f2:function(e,t,o){}}]);